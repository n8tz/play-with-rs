/*!
 * MIT License
 * 
 * Copyright (c) 2018 Wise Wild Web
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
module.exports=function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o(o.s=15)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("rescope")},function(e,t){e.exports=require("is")},function(e,t,o){"use strict";o.d(t,"a",function(){return z}),o.d(t,"d",function(){return F}),o.d(t,"e",function(){return D}),o.d(t,"b",function(){return R}),o.d(t,"c",function(){return B});var n=o(14),r=o.n(n),s=o(5),i=o.n(s),p=o(13),a=o.n(p),c=o(10),u=o.n(c),f=o(11),l=o.n(f),h=o(6),m=o.n(h),d=o(7),$=o.n(d),y=o(8),C=o.n(y),g=o(4),v=o.n(g),b=o(9),S=o.n(b),_=o(12),x=o.n(_),T=o(1),P=o(2),N=o.n(P),q=(o(16),o(0)),U=o.n(q),k={}.constructor,E=Object(q.createContext)(T.Store.staticScope),W=E.Provider,O=E.Consumer;function j(e,t,o,n){return N.a.string(t)&&(t=t.split(".")),t.length?1==t.length?(e[t[0]]=n?[].concat(x()(e[t[0]]||[]),[o]):o,e):j(e[t[0]]=e[t[0]]||{},t.slice(1),o,n)&&e||e:o}function w(e,t,o){return N.a.string(t)&&(t=t.split(".")),t.length?e[t[0]]&&w(e[t[0]],t.slice(1)):e}function M(e){var t=e.split(":");return t[0]=t[0].split("."),t[1]=t[1]&&t[1].split("."),{pathFrom:t[0],pathTo:t[1]||[t[0][t[0].length-1]]}}function D(){for(var e,t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];var s=(!n[0]||n[0].prototype instanceof U.a.Component||n[0]===U.a.Component)&&n.shift(),i=(!n[0]||n[0]instanceof T.Scope||N.a.fn(n[0]))&&n.shift(),p=(!n[0]||N.a.array(n[0])||n[0]instanceof k)&&n.shift();if(!p)for(p=[];N.a.string(n[0]);)p.push(n.shift());if(!s||!(s.prototype instanceof U.a.Component||s===U.a.Component))return function(e){return D(e,i,p)};var a=s._originComponent&&s._originComponent.displayName||s._originComponent&&s._originComponent.name||s.displayName||s.name,c=A((t=e=function(e){function t(){return m()(this,t),C()(this,v()(t).apply(this,arguments))}return S()(t,e),$()(t,[{key:"render",value:function(){return U.a.createElement(s,l()({},this.props,this.state,{$dispatch:this.$dispatch,$actions:this.$actions,$scope:this.$scope,$stores:this.$stores}))}}]),t}(U.a.Component),e._originComponent=s._originComponent||s,e.displayName="s2p("+a+")",t),N.a.fn(i)&&i,p);return(i||!s._originComponent)&&F(!N.a.fn(i)&&i)(c)||c}function A(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var n=(!t[0]||t[0].prototype instanceof U.a.Component||t[0]===U.a.Component)&&t.shift(),r=(!t[0]||t[0]instanceof T.Scope||N.a.fn(t[0]))&&t.shift(),s=N.a.array(t[0])&&t.shift(),p=!s&&(!t[0]||t[0]instanceof k)&&t.shift(),c={};if(!s)for(s=[];N.a.string(t[0]);)s.push(t.shift());var f=n._originComponent&&n._originComponent.displayName||n._originComponent&&n._originComponent.name||n.displayName||n.name;s=[].concat(x()(n.use||[]),x()(s||[])),p&&T.Scope.stateMapToRefList(p,c,s);var l=function(e){function t(e,o,n){var p;return m()(this,t),(p=C()(this,v()(t).call(this,e,o,n)))._scopeWillUpdate=function(e){p.scopeWillUpdate&&p.scopeWillUpdate(e,p.$stores),p.applyScopeUpdate&&(e=p.applyScopeUpdate(e,p.$stores)),p.setState(e)},N.a.fn(r)?p.$scope=r(a()(p),p.props,{rescope:e.$scope}):p.$scope=e.$scope,p.$scope&&p.$scope.dead&&(console.error("ReScoping using dead scope !"),p.$scope=null),p.$stores=p.$scope&&p.$scope.stores,p.$actions=p.$scope&&p.$scope.actions,p.$scope&&s.length?p.state=i()({},p.state,c,p.$scope.map(a()(p),s,!1)):p.$scope||console.warn("No Scope found in ".concat(f)),p}return S()(t,e),$()(t,[{key:"componentDidMount",value:function(){s.length&&this.$scope&&this.$scope.bind(this._scopeWillUpdate,s,!1),u()(v()(t.prototype),"componentDidMount",this)&&u()(v()(t.prototype),"componentDidMount",this).call(this)}},{key:"componentDidUpdate",value:function(e){var t=e.$scope;t!==this.$scope&&(N.a.fn(r)&&(t=r(this,this.props,{rescope:t})),s.length&&this.$scope.unBind(this._scopeWillUpdate,s),this.$scope=t,this.$scope&&this.$scope.dead?(console.error("ReScoping using dead scope"),this.$actions=this.$stores=this.$scope=null):(this.$actions=this.$scope.actions,this.$stores=this.$scope.stores,s.length&&t.bind(this._scopeWillUpdate,s)))}},{key:"componentWillUnmount",value:function(){u()(v()(t.prototype),"componentWillUnmount",this)&&u()(v()(t.prototype),"componentWillUnmount",this).call(this),this.$scope&&!this.$scope.dead&&s.length&&this.$scope.unBind(this._scopeWillUpdate,s)}}]),t}(n);return l._originComponent=n._originComponent||n,l.defaultProps=i()({},n.defaultProps||{}),l.displayName="s2s("+f+")",(r||!n._originComponent)&&F(!N.a.fn(r)&&r)(l)||l}function F(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var n=(!t[0]||t[0].prototype instanceof U.a.Component||t[0]===U.a.Component)&&t.shift(),r=(!t[0]||t[0]instanceof T.Scope||N.a.fn(t[0]))&&t.shift(),s=(!t[0]||t[0]instanceof k&&!(t[0]instanceof T.Scope))&&t.shift(),p=(!t[0]||t[0]instanceof k)&&t.shift()||{};if(!n||!(n.prototype instanceof U.a.Component||n===U.a.Component))return function(e){return F(e,r,s,p)};var a=n._originComponent&&n._originComponent.displayName||n._originComponent&&n._originComponent.name||n.displayName||n.name,c=function(e){function t(){return m()(this,t),C()(this,v()(t).apply(this,arguments))}return S()(t,e),$()(t,[{key:"componentWillUnmount",value:function(){this.$scope&&this.$scope.dispose("hoc")}},{key:"render",value:function(){var e=this,t=r||this.props.$scope;return t?(this.$scope&&t===this.$scope.parent||(this.$scope&&this.$scope.dispose("hoc"),this.$scope=t,this.$scope&&this.$scope.retain("hoc")),U.a.createElement(W,{value:this.$scope},U.a.createElement(n,l()({},this.props,{$dispatch:this.$scope.dispatch,$actions:this.$scope.actions,$scope:this.$scope,$stores:this.$scope.stores})))):U.a.createElement(O,null,function(t){return!(t=t||T.Store.staticScope)||e.$scope&&t===e.$scope.parent||(e.$scope&&e.$scope.dispose("hoc"),t=new T.Scope(s||{},i()({autoDestroy:"inherit",key:a,parent:t},p)),e.$scope=t,e.$scope&&e.$scope.retain("hoc")),U.a.createElement(W,{value:e.$scope},U.a.createElement(n,l()({},e.props,{$dispatch:e.$scope.dispatch,$actions:e.$scope.actions,$scope:e.$scope,$stores:e.$scope.stores})))})}}]),t}(U.a.Component);return c._originComponent=n._originComponent||n,c.displayName="rs("+a+")",c}function R(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var n=(!t[0]||t[0].prototype instanceof U.a.Component||t[0]===U.a.Component)&&t.shift(),r=(!t[0]||N.a.array(t[0]))&&t.shift()||[];if(!r.length)for(r=[];N.a.string(t[0]);)r.push(t.shift());var s=(!t[0]||t[0]instanceof T.Scope)&&t.shift(),p=(!t[0]||t[0]instanceof k)&&t.shift()||{};if(!n||!(n.prototype instanceof U.a.Component||n===U.a.Component))return function(e){return R(e,r,s,p)};var a=n.displayName||n.name,c=r.map(M),u=function(e){function t(e,o,n){var r;return m()(this,t),(r=C()(this,v()(t).apply(this,arguments))).state={},e.$scope&&c.forEach(function(t){return e.$scope.state[t.pathTo[0]]=j({},t.pathTo.slice(1),w(e,t.pathFrom))}),r}return S()(t,e),$()(t,[{key:"render",value:function(){return U.a.createElement(n,this.props)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return c.forEach(function(t){w(e,t.pathFrom)!==w(e.$scope.state,t.pathTo)&&(e.$scope.state[t.pathTo[0]]=j({},t.pathTo.slice(1),w(e,t.pathFrom)))}),null}}]),t}(U.a.Component);return u._originComponent=n._originComponent||n,u.defaultProps=i()({},n.defaultProps||{}),u.displayName="p2s("+a+")",(s||!n._originComponent)&&F(s)(u)||u}function B(){for(var e,t,o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];var p=(!n[0]||n[0].prototype instanceof U.a.Component||n[0]===U.a.Component)&&n.shift(),a=(!n[0]||n[0]instanceof T.Store)&&n.shift()||T.Store,c=(!n[0]||N.a.string(n[0]))&&n.shift()||a.displayName||"props",u=(!n[0]||n[0]instanceof k)&&n.shift()||{},f=(!n[0]||n[0]instanceof T.Scope)&&n.shift();if(!p||!(p.prototype instanceof U.a.Component||p===U.a.Component))return function(e){return B(e,a,c,u,f)};var h=p._originComponent&&p._originComponent.displayName||p._originComponent&&p._originComponent.name||p.displayName||p.name;return t=e=function(e){function t(){return m()(this,t),C()(this,v()(t).apply(this,arguments))}return S()(t,e),$()(t,[{key:"componentWillUnmount",value:function(){this.$scope&&this.$scope.dispose("hoc")}},{key:"render",value:function(){var e=this;return U.a.createElement(O,null,function(t){return!(t=f||e.props.$scope||t||T.Store.staticScope)||e.$scope&&t===e.$scope.parent||(e.$scope&&e.$scope.dispose("hoc"),t=new T.Scope(r()({},c,a),i()({autoDestroy:"inherit",key:h,parent:t},u)),e.$scope=t,e.$scope&&e.$scope.retain("hoc")),U.a.createElement(W,{value:e.$scope},U.a.createElement(p,l()({},e.props,{$dispatch:e.$scope.dispatch,$actions:e.$scope.actions,$scope:e.$scope,$stores:e.$scope.stores})))})}}]),t}(U.a.Component),e._originComponent=p._originComponent||p,e.displayName="p2st("+h+")",t}Object(T.addScopableType)(function(e){return e&&(e.prototype instanceof U.a.Component||e===U.a.Component)},A,!1,!0);var z=A(U.a.Component)},function(e,t){e.exports=require("@babel/runtime/helpers/getPrototypeOf")},function(e,t){e.exports=require("@babel/runtime/helpers/objectSpread")},function(e,t){e.exports=require("@babel/runtime/helpers/classCallCheck")},function(e,t){e.exports=require("@babel/runtime/helpers/createClass")},function(e,t){e.exports=require("@babel/runtime/helpers/possibleConstructorReturn")},function(e,t){e.exports=require("@babel/runtime/helpers/inherits")},function(e,t){e.exports=require("@babel/runtime/helpers/get")},function(e,t){e.exports=require("@babel/runtime/helpers/extends")},function(e,t){e.exports=require("@babel/runtime/helpers/toConsumableArray")},function(e,t){e.exports=require("@babel/runtime/helpers/assertThisInitialized")},function(e,t){e.exports=require("@babel/runtime/helpers/defineProperty")},function(e,t,o){"use strict";o.r(t),o.d(t,"Component",function(){return p}),o.d(t,"reScopeProps",function(){return a}),o.d(t,"reScope",function(){return c}),o.d(t,"scopeToProps",function(){return u}),o.d(t,"propsToScope",function(){return f}),o.d(t,"propsToStore",function(){return l});var n=o(1),r=o.n(n),s=o(3);for(var i in n)["Component","reScopeProps","reScope","scopeToProps","propsToScope","propsToStore","default"].indexOf(i)<0&&function(e){o.d(t,e,function(){return n[e]})}(i);r.a.Component=s.a,r.a.reScopeProps=s.e,r.a.reScope=s.d,r.a.scopeToProps=s.e,r.a.propsToScope=s.b,r.a.propsToStore=s.c;var p=s.a,a=s.e,c=s.d,u=s.e,f=s.b,l=s.c;t.default=r.a},function(e,t){e.exports=require("prop-types")}]);
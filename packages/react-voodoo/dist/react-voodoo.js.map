{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"is\"","webpack:///external \"react\"","webpack:///external \"@babel/runtime/helpers/extends\"","webpack:///./src/MapOf.react_voodoo_utils_css_demux_typed_____js.gen.js","webpack:///./src/utils/css/cssUtils.js","webpack:///external \"@babel/runtime/helpers/inheritsLoose\"","webpack:///external \"prop-types\"","webpack:///./src/utils/css/demux/typed/shadow.js","webpack:///external \"tween-axis\"","webpack:///./src/utils/css/demux/typed/number.js","webpack:///external \"react-dom\"","webpack:///external \"css-box-shadow\"","webpack:///./src/utils/css/demux/typed/color.js","webpack:///external \"d3-ease\"","webpack:///external \"fast-deep-equal\"","webpack:///external \"@babel/runtime/helpers/objectWithoutPropertiesLoose\"","webpack:///external \"shortid\"","webpack:///external \"@babel/runtime/helpers/assertThisInitialized\"","webpack:///external \"color-rgba\"","webpack:///./src/utils/css/demux/filter.js","webpack:///./src/utils/css/demux/boxShadow.js","webpack:///./src/utils/css/demux/typed/int.js","webpack:///./src/utils/css/demux/typed/multi.js","webpack:///./src/utils/css/demux/transform.js","webpack:///./src/utils/css/demux/textShadow.js","webpack:///./src/utils/css/demux/backgroundColor.js","webpack:///./src/comps/TweenerContext.js","webpack:///./src/comps/TweenAxis.js","webpack:///./src/comps/TweenRef.js","webpack:///./src/MapOf.react_voodoo_utils_css_demux_____js.gen.js","webpack:///./src/utils/css/index.js","webpack:///./src/utils/dom.js","webpack:///./src/utils/inertia.js","webpack:///./src/spells/asTweener.js","webpack:///./src/spells/withTweener.js","webpack:///./src/utils/tweenTools.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","cExport","fPath","_exports","_react_voodoo_utils_css_demux_typed_int_js","split","length","keys","default","_react_voodoo_utils_css_demux_typed_color_js","_react_voodoo_utils_css_demux_typed_multi_js","_react_voodoo_utils_css_demux_typed_number_js","_react_voodoo_utils_css_demux_typed_shadow_js","color","int","multi","number","props","units","unitsRe","RegExp","join","floatCut","v","Number","toFixed","expandShorthandProperty","target","type","childProps","properties","values","multiple","forEach","k","isShorthandProperty","isValidDeclaration","demux","tweenable","data","box","shadows","shadowData","shadowObj","inset","undefined","blurRadius","offsetX","offsetY","spreadRadius","push","cssShadowParser","stringify","initials","forceUnits","parsedValues","is","string","parse","array","shadow","baseData","defaultUnits","left","right","top","bottom","width","height","perspective","defaultBox","defaultValue","opacity","demuxOne","twVal","baseKey","unit","x","y","z","rKey","muxer","muxOne","match","unitKey","indexOf","realKey","parseFloat","vect","rgba","blur","brightness","contrast","dropShadow","grayscale","hueRotate","invert","saturate","sepia","filters","fkey","dkey","filter","fValue","console","warn","alias","center","offset","count","nowhere","translateX","translateY","translateZ","scale","scaleZ","scaleX","scaleY","rotate","skewX","skewY","rotateX","rotateY","rotateZ","transforms","tmap","iValue","substr","transform","reset","u","TweenerContext","React","createContext","TweenAxis","state","componentWillUnmount","this","_tweenLines","axe","_previousTweener","rmScrollableAnim","_previousScrollable","render","children","scrollFirst","bounds","scrollableWindow","inertia","size","defaultPosition","items","Consumer","tweener","_previousAxis","_previousInertia","initAxis","scrollableBounds","_previousTweens","_lastTL","addScrollableAnim","Fragment","Component","propTypes","PropTypes","isRequired","any","setTarget","anims","map","tween","TweenRef","__tweenableId","shortid","generate","_tweenAxis","_currentTweener","rmTweenRef","setRootRef","id","style","initial","pos","noRef","tweenLines","isRoot","tweenAxis","onClick","onDoubleClick","parentTweener","error","twRef","tweenRef","scrollY","reduce","h","_updateTweenRef","refChild","Children","only","isValidElement","cloneElement","e","_lastRef","div","className","_react_voodoo_utils_css_demux_filter_js","_react_voodoo_utils_css_demux_boxShadow_js","_react_voodoo_utils_css_demux_transform_js","_react_voodoo_utils_css_demux_textShadow_js","_react_voodoo_utils_css_demux_backgroundColor_js","cssDemux","cssDemuxers","marginTop","marginLeft","marginRight","marginBottom","paddingTop","paddingLeft","paddingRight","paddingBottom","transformOrigin","zIndex","muxToCss","css","demuxers","deMuxTween","deMuxedTween","reOrder","fTween","excluded","deMuxLine","tweenLine","line","demuxedTween","apply","query","prefixes","isBrowser","window","_dom","DocumentTouch","document","matchMedia","matches","prefix","test","navigator","appVersion","userAgent","dashedPrefix","__","onPageHided","onPageShown","dragging","dragEnabled","dragEnabledDesc","fingers","nbFingers","dragstartAnywhere","finger","desc","me","Dom","addEvent","dragAnywhere","dropAnywhere","dropWithoutClick","changedTouches","ln","identifier","_startPos","pageX","pageY","_startTs","timeStamp","_lastPos","dragstart","stopped","drag","preventNextClick","preventDefault","stopPropagation","stopImmediatePropagation","removeEvent","prevent","mouseDrag","dropped","getDraggable","node","locks","dragEnd","freeDraggable","splice","addOverflowEvent","element","fn","addEventListener","orient","horizontalOverflow","verticalOverflow","bubble","attachEvent","related","removeEventListener","detachEvent","rmDragFn","arr","scope","passive","elem","dims","offsetWidth","offsetHeight","parseInt","offsetTop","offsetLeft","offsetParent","addWheelEvent","_addEventListener","support","createElement","onmousewheel","PIXEL_STEP","LINE_HEIGHT","PAGE_HEIGHT","normalizeWheel","event","sX","sY","pX","pY","detail","wheelDelta","wheelDeltaY","wheelDeltaX","axis","HORIZONTAL_AXIS","deltaY","deltaX","deltaMode","spinX","spinY","pixelX","pixelY","_addWheelListener","eventName","callback","useCapture","_wheelList","originalEvent","srcElement","delatZ","returnValue","normalized","rmWheelEvent","_rmEventListener","_EventListener","findReactParents","fiberNode","comps","startsWith","return","stateNode","includes","parentNode","easingFn","signOf","NaN","abs","Math","floor","min","round","max","Inertia","opt","_","conf","constructor","config","active","refFPS","currentStop","lastInertiaPos","stops","wayPoints","inertiaFn","easePolyOut","targetWayPointIndex","_detectCurrentSnap","update","at","Date","now","nextValue","loop","shouldLoop","teleport","inertiaStartTm","targetDuration","targetDist","delta","targetWayPoint","currentWayPoint","currentWayPointIndex","onInertiaEnd","setPos","setWayPoints","loopDist","dispatch","tm","inertiaLastTm","_doSnap","isOutbound","forceSnap","maxDuration","mid","maxJump","willSnap","infinite","setBounds","startMove","baseTS","startTS","lastVelocity","lastIVelocity","lastAccel","posDiff","holding","hold","sinceLastPos","iVel","release","velSign","loopsTarget","log","loopsVelSum","pow","applyInertia","_live","lastTm","isBrowserSide","Function","isArray","_running","SimpleObjectProto","Runner","run","tl","ctx","duration","cb","go","cpos","setTimeout","_tick","asTweener","argz","BaseComponent","shift","opts","wheelRatio","maxClickTm","maxClickOffset","TweenableComp","arguments","_updateNodeInertia","current","activeInertia","_inertiaRaf","cancelAnimationFrame","scrollLeft","scrollTop","slice","requestAnimationFrame","_swap","refs","muxByTarget","_rafLoop","__isTweener","rootRef","forwardedRef","createRef","iStyle","iMap","noref","mapReset","makeTweenable","tweenableMap","tweenRefs","tweenRefTargets","iMapOrigin","deepEqual","tweenRefOriginCss","muxDataByTarget","tweenRefOrigin","tweenRefMaps","tweenRefCSS","assign","ref","resetTweenable","targets","_updateTweenRefs","updateRefStyle","postPone","getTweenableRef","ReactDom","findDOMNode","getRootNode","pushAnim","anim","then","skipInit","sl","fail","displayName","Promise","resolve","applyTweenState","runningAnims","destroy","live","_inertia","scrollableArea","_scrollableArea","_scrollableBounds","_scrollableWindow","makeScrollable","dim","axes","scrollPos","targetPos","nextDescr","_getAxis","initialScrollPos","getAxisState","scrollTo","newPos","ms","ease","reject","componentDidScroll","_runScrollGoTo","goTo","found","to","easing","tick","from","tweenEnabled","getScrollableNodes","scrollable","domUtils","hookScrollableTargets","getElementById","componentShouldScroll","_registerScrollListeners","rendered","lastScrollEvt","lastStartTm","cLock","dX","parents","dY","parentsState","rootNode","scrollLoad","_parentTweener","onScroll","_doDispatch","elementFromPoint","clientX","clientY","dragList","touch","descr","scrollEnabled","getComputedStyle","getPropertyValue","scrollX","xDispatched","yDispatched","cState","dragDirectionLock","inertiaFrame","isAxisOut","scrollHeight","clientHeight","scrollWidth","clientWidth","cancelable","enableMouseDrag","doRegister","isInertiaActive","dispatchScroll","oldPos","dx","dy","Comps","headTarget","_activateNodeInertia","findIndex","item","tweenRefInitialData","tweenRefDemuxed","onResize","_updateBox","windowDidResize","scrollHook","inited","swap","componentDidMount","_static","scrollableAnim","__isFirst","componentDidUpdate","prevProps","prevState","Provider","String","fromCharCode","withRef","forwardRef","withTweener","TweenerToProps","re_cssValueWithUnit","cssAdd","val1","val2","units1","units2","remap","result","cssMult","val","start","withOffset","iDuration","inverseValues","reverse","addCss","sources","source","addAllType","v1","v2","values1","values2","extractCss","inverse","shiftTransforms","unshift","Tweenable"],"mappings":"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","file":"react-voodoo.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 19);\n","module.exports = require(\"is\");","module.exports = require(\"react\");","module.exports = require(\"@babel/runtime/helpers/extends\");","/* This is a virtual file generated by webpack-inherit */\nlet req, _exports = {}, cExport, fPath, i;\nconst _react_voodoo_utils_css_demux_typed_int_js = require(\"react-voodoo/utils/css/demux/typed/int.js\");\ncExport=_exports;\nfPath=\"int\".split('/');\ni=0;while(i<fPath.length-1) cExport=cExport[fPath[i]]=cExport[fPath[i]]||{}, i++;\n\nif (!cExport[fPath[i]]){\n    cExport[fPath[i]] = Object.keys(_react_voodoo_utils_css_demux_typed_int_js).length === 1 && _react_voodoo_utils_css_demux_typed_int_js.default || _react_voodoo_utils_css_demux_typed_int_js;\n}\n\nconst _react_voodoo_utils_css_demux_typed_color_js = require(\"react-voodoo/utils/css/demux/typed/color.js\");\ncExport=_exports;\nfPath=\"color\".split('/');\ni=0;while(i<fPath.length-1) cExport=cExport[fPath[i]]=cExport[fPath[i]]||{}, i++;\n\nif (!cExport[fPath[i]]){\n    cExport[fPath[i]] = Object.keys(_react_voodoo_utils_css_demux_typed_color_js).length === 1 && _react_voodoo_utils_css_demux_typed_color_js.default || _react_voodoo_utils_css_demux_typed_color_js;\n}\n\nconst _react_voodoo_utils_css_demux_typed_multi_js = require(\"react-voodoo/utils/css/demux/typed/multi.js\");\ncExport=_exports;\nfPath=\"multi\".split('/');\ni=0;while(i<fPath.length-1) cExport=cExport[fPath[i]]=cExport[fPath[i]]||{}, i++;\n\nif (!cExport[fPath[i]]){\n    cExport[fPath[i]] = Object.keys(_react_voodoo_utils_css_demux_typed_multi_js).length === 1 && _react_voodoo_utils_css_demux_typed_multi_js.default || _react_voodoo_utils_css_demux_typed_multi_js;\n}\n\nconst _react_voodoo_utils_css_demux_typed_number_js = require(\"react-voodoo/utils/css/demux/typed/number.js\");\ncExport=_exports;\nfPath=\"number\".split('/');\ni=0;while(i<fPath.length-1) cExport=cExport[fPath[i]]=cExport[fPath[i]]||{}, i++;\n\nif (!cExport[fPath[i]]){\n    cExport[fPath[i]] = Object.keys(_react_voodoo_utils_css_demux_typed_number_js).length === 1 && _react_voodoo_utils_css_demux_typed_number_js.default || _react_voodoo_utils_css_demux_typed_number_js;\n}\n\nconst _react_voodoo_utils_css_demux_typed_shadow_js = require(\"react-voodoo/utils/css/demux/typed/shadow.js\");\ncExport=_exports;\nfPath=\"shadow\".split('/');\ni=0;while(i<fPath.length-1) cExport=cExport[fPath[i]]=cExport[fPath[i]]||{}, i++;\n\nif (!cExport[fPath[i]]){\n    cExport[fPath[i]] = Object.keys(_react_voodoo_utils_css_demux_typed_shadow_js).length === 1 && _react_voodoo_utils_css_demux_typed_shadow_js.default || _react_voodoo_utils_css_demux_typed_shadow_js;\n}\n\nexport const color = _exports.color;\n\nexport const int = _exports.int;\n\nexport const multi = _exports.multi;\n\nexport const number = _exports.number;\n\nexport const shadow = _exports.shadow;\n\nexport default _exports;","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nconst props = {\n\t\"margin\"                     : { \"properties\": [\"marginTop\", \"marginRight\", \"marginBottom\", \"marginLeft\"] },\n\t\"marginBottom\"               : { \"types\": [\"length\"] },\n\t\"marginLeft\"                 : { \"types\": [\"length\"] },\n\t\"marginRight\"                : { \"types\": [\"length\"] },\n\t\"marginTop\"                  : { \"types\": [\"length\"] },\n\t\"padding\"                    : { \"properties\": [\"paddingTop\", \"paddingRight\", \"paddingBottom\", \"paddingLeft\"] },\n\t\"paddingBottom\"              : { \"types\": [\"length\"] },\n\t\"paddingLeft\"                : { \"types\": [\"length\"] },\n\t\"paddingRight\"               : { \"types\": [\"length\"] },\n\t\"paddingTop\"                 : { \"types\": [\"length\"] },\n\t\"bottom\"                     : { \"types\": [\"length-percentage-calc\"] },\n\t\"left\"                       : { \"types\": [\"length-percentage-calc\"] },\n\t\"right\"                      : { \"types\": [\"length-percentage-calc\"] },\n\t\"top\"                        : { \"types\": [\"length-percentage-calc\"] },\n\t\"zIndex\"                     : { \"types\": [\"integer\"] },\n\t\"width\"                      : { \"types\": [\"length-percentage-calc\"] },\n\t\"maxWidth\"                   : { \"types\": [\"length-percentage-calc\"] },\n\t\"minWidth\"                   : { \"types\": [\"length-percentage-calc\"] },\n\t\"height\"                     : { \"types\": [\"length-percentage-calc\"] },\n\t\"maxHeight\"                  : { \"types\": [\"length-percentage-calc\"] },\n\t\"minHeight\"                  : { \"types\": [\"length-percentage-calc\"] },\n\t\"lineHeight\"                 : { \"types\": [\"number\", \"length\"] },\n\t\"verticalAlign\"              : { \"types\": [\"length\"] },\n\t\"visibility\"                 : { \"types\": [\"visibility\"] },\n\t\"borderSpacing\"              : { \"types\": [\"length\"], \"multiple\": true },\n\t\"color\"                      : { \"types\": [\"color\"] },\n\t\"opacity\"                    : { \"types\": [\"number\"] },\n\t\"background\"                 : { \"properties\": [\"backgroundColor\", \"backgroundPosition\", \"backgroundSize\"] },\n\t\"backgroundColor\"            : { \"types\": [\"color\"] },\n\t\"backgroundPosition\"         : { \"types\": [\"length-percentage-calc\"], \"multiple\": true, \"repeatable\": true },\n\t\"backgroundSize\"             : { \"types\": [\"length-percentage-calc\"], \"multiple\": true, \"repeatable\": true },\n\t\"border\"                     : { \"properties\": [\"borderColor\", \"borderWidth\"] },\n\t\"borderBottom\"               : { \"properties\": [\"borderBottomColor\", \"borderBottomWidth\"] },\n\t\"borderLeft\"                 : { \"properties\": [\"borderLeftColor\", \"borderLeftWidth\"] },\n\t\"borderRight\"                : { \"properties\": [\"borderRightColor\", \"borderRightWidth\"] },\n\t\"borderTop\"                  : { \"properties\": [\"borderTopColor\", \"borderTopWidth\"] },\n\t\"borderColor\"                : { \"properties\": [\"borderTopColor\", \"borderRightColor\", \"borderBottomColor\", \"borderLeftColor\"] },\n\t\"borderWidth\"                : { \"properties\": [\"borderTopWidth\", \"borderRightWidth\", \"borderBottomWidth\", \"borderLeftWidth\"] },\n\t\"borderBottomColor\"          : { \"types\": [\"color\"] },\n\t\"borderLeftColor\"            : { \"types\": [\"color\"] },\n\t\"borderRightColor\"           : { \"types\": [\"color\"] },\n\t\"borderTopColor\"             : { \"types\": [\"color\"] },\n\t\"borderBottomWidth\"          : { \"types\": [\"length\"] },\n\t\"borderLeftWidth\"            : { \"types\": [\"length\"] },\n\t\"borderRightWidth\"           : { \"types\": [\"length\"] },\n\t\"borderTopWidth\"             : { \"types\": [\"length\"] },\n\t\"borderRadius\"               : { \"properties\": [\"borderTopLeftRadius\", \"borderTopRightRadius\", \"borderBottomRightRadius\", \"borderBottomLeftRadius\"] },\n\t\"borderTopLeftRadius\"        : { \"types\": [\"length-percentage-calc\"], \"multiple\": true },\n\t\"borderTopRightRadius\"       : { \"types\": [\"length-percentage-calc\"], \"multiple\": true },\n\t\"borderBottomRightRadius\"    : { \"types\": [\"length-percentage-calc\"], \"multiple\": true },\n\t\"borderBottomLeftRadius\"     : { \"types\": [\"length-percentage-calc\"], \"multiple\": true },\n\t\"boxShadow\"                  : { \"types\": [\"shadow-list\"] },\n\t\"caretColor\"                 : { \"types\": [\"color\"] },\n\t\"outline\"                    : { \"properties\": [\"outlineColor\", \"outlineWidth\"] },\n\t\"outlineColor\"               : { \"types\": [\"color\"] },\n\t\"outlineWidth\"               : { \"types\": [\"length\"] },\n\t\"outlineOffset\"              : { \"types\": [\"length\"] },\n\t\"flex\"                       : { \"properties\": [\"flexGrow\", \"flexShrink\", \"flexBasis\"] },\n\t\"flexGrow\"                   : { \"types\": [\"number\"] },\n\t\"flexShrink\"                 : { \"types\": [\"number\"] },\n\t\"flexBasis\"                  : { \"types\": [\"length-percentage-calc\"] },\n\t\"order\"                      : { \"types\": [\"integer\"] },\n\t\"font\"                       : { \"properties\": [\"fontWeight\", \"fontStretch\", \"fontSize\", \"lineHeight\"] },\n\t\"fontWeight\"                 : { \"types\": [\"font-weight\"] },\n\t\"fontStretch\"                : { \"types\": [\"font-stretch\"] },\n\t\"fontSize\"                   : { \"types\": [\"length\"] },\n\t\"fontSizeAdjust\"             : { \"types\": [\"number\"] },\n\t\"gridTemplateColumns\"        : { \"types\": [\"length-percentage-calc\"], \"multiple\": true },\n\t\"gridTemplateRows\"           : { \"types\": [\"length-percentage-calc\"], \"multiple\": true },\n\t\"gridTemplate\"               : { \"properties\": [\"gridTemplateRows\", \"gridTemplateColumns\"] },\n\t\"grid\"                       : { \"properties\": [\"gridTemplateRows\", \"gridTemplateColumns\"] },\n\t\"gridRowGap\"                 : { \"types\": [\"length-percentage-calc\"] },\n\t\"gridColumnGap\"              : { \"types\": [\"length-percentage-calc\"] },\n\t\"gridGap\"                    : { \"properties\": [\"gridRowGap\", \"gridColumnGap\"] },\n\t\"clip\"                       : { \"types\": [\"rectangle\"] },\n\t\"clipPath\"                   : { \"types\": [\"basic-shape\"] },\n\t\"mask\"                       : { \"properties\": [\"maskPosition\", \"maskSize\"] },\n\t\"maskPosition\"               : { \"types\": [\"length-percentage-calc\"], \"multiple\": true, \"repeatable\": true },\n\t\"maskSize\"                   : { \"types\": [\"length-percentage-calc\"], \"multiple\": true, \"repeatable\": true },\n\t\"shapeOutside\"               : { \"types\": [\"basic-shape\"] },\n\t\"shapeMargin\"                : { \"types\": [\"length-percentage-calc\"] },\n\t\"shapeImageThreshold\"        : { \"types\": [\"number\"] },\n\t\"scrollPadding\"              : { \"properties\": [\"scrollPaddingTop\", \"scrollPaddingRight\", \"scrollPaddingBottom\", \"scrollPaddingLeft\"] },\n\t\"scrollPaddingTop\"           : { \"types\": [\"length-percentage-calc\"] },\n\t\"scrollPaddingRight\"         : { \"types\": [\"length-percentage-calc\"] },\n\t\"scrollPaddingBottom\"        : { \"types\": [\"length-percentage-calc\"] },\n\t\"scrollPaddingLeft\"          : { \"types\": [\"length-percentage-calc\"] },\n\t\"scrollPaddingBlock\"         : { \"properties\": [\"scrollPaddingBlockStart\", \"scrollPaddingBlockEnd\"] },\n\t\"scrollPaddingBlockStart\"    : { \"types\": [\"length-percentage-calc\"] },\n\t\"scrollPaddingBlockEnd\"      : { \"types\": [\"length-percentage-calc\"] },\n\t\"scrollPaddingInline\"        : { \"properties\": [\"scrollPaddingInlineStart\", \"scrollPaddingInlineEnd\"] },\n\t\"scrollPaddingInlineStart\"   : { \"types\": [\"length-percentage-calc\"] },\n\t\"scrollPaddingInlineEnd\"     : { \"types\": [\"length-percentage-calc\"] },\n\t\"scrollSnapMargin\"           : { \"properties\": [\"scrollSnapMarginTop\", \"scrollSnapMarginRight\", \"scrollSnapMarginBottom\", \"scrollSnapMarginLeft\"] },\n\t\"scrollSnapMarginTop\"        : { \"types\": [\"length\"] },\n\t\"scrollSnapMarginRight\"      : { \"types\": [\"length\"] },\n\t\"scrollSnapMarginBottom\"     : { \"types\": [\"length\"] },\n\t\"scrollSnapMarginLeft\"       : { \"types\": [\"length\"] },\n\t\"scrollSnapMarginBlock\"      : { \"properties\": [\"scrollSnapMarginBlockStart\", \"scrollSnapMarginBlockEnd\"] },\n\t\"scrollSnapMarginBlockStart\" : { \"types\": [\"length\"] },\n\t\"scrollSnapMarginBlockEnd\"   : { \"types\": [\"length\"] },\n\t\"scrollSnapMarginInline\"     : { \"properties\": [\"scrollSnapMarginInlineStart\", \"scrollSnapMarginInlineEnd\"] },\n\t\"scrollSnapMarginInlineStart\": { \"types\": [\"length\"] },\n\t\"scrollSnapMarginInlineEnd\"  : { \"types\": [\"length\"] },\n\t\"textDecoration\"             : { \"properties\": [\"textDecorationColor\"] },\n\t\"textDecorationColor\"        : { \"types\": [\"color\"] },\n\t\"textEmphasis\"               : { \"properties\": [\"textEmphasisColor\"] },\n\t\"textEmphasisColor\"          : { \"types\": [\"color\"] },\n\t\"textShadow\"                 : { \"types\": [\"shadow-list\"] },\n\t\"columns\"                    : { \"properties\": [\"columnWidth\", \"columnCount\"] },\n\t\"columnWidth\"                : { \"types\": [\"length\"] },\n\t\"columnCount\"                : { \"types\": [\"integer\"] },\n\t\"columnGap\"                  : { \"types\": [\"length-percentage-calc\"] },\n\t\"columnRule\"                 : { \"properties\": [\"columnRuleColor\", \"columnRuleWidth\"] },\n\t\"columnRuleColor\"            : { \"types\": [\"color\"] },\n\t\"columnRuleWidth\"            : { \"types\": [\"length\"] },\n\t\"letterSpacing\"              : { \"types\": [\"length\"] },\n\t\"tabSize\"                    : { \"types\": [\"length\"] },\n\t\"textIndent\"                 : { \"types\": [\"length-percentage-calc\"] },\n\t\"wordSpacing\"                : { \"types\": [\"length-percentage-calc\"] },\n\t\"transform\"                  : { \"types\": [\"transform\"] },\n\t\"transformOrigin\"            : { \"types\": [\"length-percentage-calc\"], \"multiple\": true },\n\t\"perspective\"                : { \"types\": [\"length\"] },\n\t\"perspectiveOrigin\"          : { \"types\": [\"length-percentage-calc\"], \"multiple\": true }\n}\n\n//\n///**\n// * List of animatable types used by properties, with descriptions of how to interpolate each type.\n// * Data taken from https://www.w3.org/TR/css3-transitions/#animatable-types and some other W3C specs.\n// *\n// * @type {Object}\n// */\n//exports.types = {\n//\t'color'                 : {\n//\t\tname: 'color',\n//\t\thref: 'https://www.w3.org/TR/css3-transitions/#animtype-color'\n//\t},\n//\t'length'                : {\n//\t\tname: 'length',\n//\t\thref: 'https://www.w3.org/TR/css3-transitions/#animtype-length'\n//\t},\n//\t'percentage'            : {\n//\t\tname: 'percentage',\n//\t\thref: 'https://www.w3.org/TR/css3-transitions/#animtype-percentage'\n//\t},\n//\t'length-percentage-calc': {\n//\t\tname: 'length, percentage, or calc',\n//\t\thref: 'https://www.w3.org/TR/css3-transitions/#animtype-lpcalc'\n//\t},\n//\t'integer'               : {\n//\t\tname: 'integer',\n//\t\thref: 'https://www.w3.org/TR/css3-transitions/#animtype-integer'\n//\t},\n//\t'font-weight'           : {\n//\t\tname: 'font weight',\n//\t\thref: 'https://www.w3.org/TR/css3-transitions/#animtype-font-weight'\n//\t},\n//\t'number'                : {\n//\t\tname: 'number',\n//\t\thref: 'https://www.w3.org/TR/css3-transitions/#animtype-number'\n//\t},\n//\t'rectangle'             : {\n//\t\tname: 'rectangle',\n//\t\thref: 'https://www.w3.org/TR/css3-transitions/#animtype-rect'\n//\t},\n//\t'visibility'            : {\n//\t\tname: 'visibility',\n//\t\thref: 'https://www.w3.org/TR/css3-transitions/#animtype-visibility'\n//\t},\n//\t'shadow-list'           : {\n//\t\tname: 'shadow list',\n//\t\thref: 'https://www.w3.org/TR/css3-transitions/#animtype-shadow-list'\n//\t},\n//\t// Other specs\n//\t'transform'             : {\n//\t\tname: 'transform',\n//\t\thref: 'https://www.w3.org/TR/css3-transforms/#interpolation-of-transforms'\n//\t},\n//\t'font-stretch'          : {\n//\t\tname: 'font stretch',\n//\t\thref: 'https://www.w3.org/TR/css3-fonts/#font-stretch-animation'\n//\t},\n//\t'basic-shape'           : {\n//\t\tname: 'basic shape',\n//\t\thref: 'https://www.w3.org/TR/css-shapes-1/#basic-shape-interpolation'\n//\t},\n//};\n//\n\nexport const units    = ['box', 'bz', 'bh', 'bw', 'deg', 'em', 'ex', '%', 'px', 'cm', 'mm', 'in', 'pt', 'pc', 'ch', 'rem', 'vh', 'vw', 'vmin', 'vmax'];\nexport const unitsRe  = new RegExp(\n\t\"([+-]?(?:[0-9]*[.])?[0-9]+)\\\\s*(\" +\n\t['\\\\w+', 'bz', 'bh', 'bw', 'cap', 'ch', 'deg', 'em', 'ic', 'ex', '%', 'px', 'cm', 'mm', 'in', 'pt', 'pc', 'ch', 'rem', 'vh', 'vw', 'vmin', 'vmax'].join('|')\n\t+ \")\"\n);\nexport const floatCut = ( v = 0 ) => Number(v.toFixed(3));\n\nexport function expandShorthandProperty( property, value, target = {} ) {\n\tlet type       = props[property],\n\t    childProps = type && type.properties,\n\t    values     = value.split(' ');\n\t\n\tif ( type.multiple )\n\t\tchildProps && childProps.forEach(\n\t\t\t( k, i ) => {\n\t\t\t\ttarget[k] = values[i % values.length];\n\t\t\t}\n\t\t)\n\telse\n\t\tchildProps && childProps.forEach(\n\t\t\t( k, i ) => {\n\t\t\t\tif ( values[i] )\n\t\t\t\t\ttarget[k] = values[i];\n\t\t\t}\n\t\t)\n\treturn target;\n};\n\nexport function isShorthandProperty( property ) {\n\tlet type       = props[property],\n\t    childProps = type && type.properties;\n\treturn childProps && !!childProps.length;\n};\n\n\nexport function isValidDeclaration( property, value ) {\n\treturn !!props[property];\n};\n\n/**\n * Check if a CSS property can be animated\n * @param  {string} property CSS property name\n * @return {boolean}         True if the property can be animated\n */\nexport function canAnimate( property ) {\n\treturn props.hasOwnProperty(property);\n};\n\n/**\n * Get a definition of how a CSS property can be animated\n * @param  {string} property CSS property name\n * @param  {boolean} expand  Expand definitions for sub-properties, when available\n * @return {object}          Property definition, or null if it can't be animated\n */\nexport function getProperty( property, expand ) {\n\tif ( !exports.canAnimate(property) ) {\n\t\treturn null;\n\t}\n\tvar prop = props[property];\n\tvar ret  = { name: property };\n\tObject.keys(prop).forEach(function ( key ) {\n\t\tvar value = prop[key];\n\t\tif ( Array.isArray(value) ) {\n\t\t\tif ( key === 'properties' && expand ) {\n\t\t\t\tvalue = value.map(function ( subProp ) {\n\t\t\t\t\treturn exports.getProperty(subProp, expand);\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\tvalue = value.slice(); // clone\n\t\t\t}\n\t\t}\n\t\tret[key] = value;\n\t});\n\treturn ret;\n};\n","module.exports = require(\"@babel/runtime/helpers/inheritsLoose\");","module.exports = require(\"prop-types\");","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport cssShadowParser from \"css-box-shadow\";\nimport is              from \"is\";\nimport {color, number} from \"./(*).js\";\n\nconst\n\tdefaultUnits       = {\n\t\tblur      : 'px',\n\t\tbrightness: '%',\n\t\tcontrast  : '%',\n\t\tdropShadow: true,\n\t\tgrayscale : '%',\n\t\thueRotate : 'deg',\n\t\tinvert    : \"%\",\n\t\topacity   : \"%\",\n\t\tsaturate  : \"%\",\n\t\tsepia     : \"%\"\n\t};\nconst swap             = {};\n\nfunction demux( key, tweenable, target, data, box ) {\n\t//if ( data[\"filter_head\"] === key ) {\n\tlet shadows = [];\n\tdata[key].forEach(\n\t\t( shadowData, i ) => {\n\t\t\tlet shadowObj = {\n\t\t\t\tinset       : shadowData.inset,\n\t\t\t\tcolor       : color.demux(key + '_' + i + \"_color\", tweenable, undefined, data, box),\n\t\t\t\tblurRadius  : number.demux(key + '_' + i + \"_blurRadius\", tweenable, undefined, data, box),\n\t\t\t\toffsetX     : number.demux(key + '_' + i + \"_offsetX\", tweenable, undefined, data, box),\n\t\t\t\toffsetY     : number.demux(key + '_' + i + \"_offsetY\", tweenable, undefined, data, box),\n\t\t\t\tspreadRadius: number.demux(key + '_' + i + \"_spreadRadius\", tweenable, undefined, data, box)\n\t\t\t}, fKey;\n\t\t\tshadows.push(shadowObj);\n\t\t}\n\t)\n\ttarget[key] = cssShadowParser.stringify(shadows);\n}\n\nexport default ( key, value, target, data, initials, forceUnits ) => {\n\t\n\tdata[key]        = data[key] || [];\n\tinitials[key]    = 0;\n\tlet parsedValues = value, i;\n\tif ( is.string(parsedValues) )\n\t\tparsedValues = cssShadowParser.parse(parsedValues);\n\telse if ( !is.array(parsedValues) )\n\t\tparsedValues = [parsedValues];\n\t\n\tparsedValues.forEach(\n\t\t( shadow, i ) => {\n\t\t\tlet baseData = {}, fKey;\n\t\t\t\n\t\t\tif ( is.string(shadow) )\n\t\t\t\tshadow = cssShadowParser.parse(shadow)[0];\n\t\t\tif ( shadow ) {\n\t\t\t\t//color: \"rgba(0, 0, 255, .2)\"\n\t\t\t\tinitials[key + '_' + i + \"_color\"] = \"rgba(0,0,0,0)\";\n\t\t\t\tcolor(key + '_' + i + \"_color\", shadow.color || \"rgba(0,0,0,0)\", target, data, initials, forceUnits);\n\t\t\t\t//blurRadius: 2\n\t\t\t\tnumber(key + '_' + i + \"_blurRadius\", shadow.blurRadius || 0, target, data, initials, forceUnits);\n\t\t\t\t//inset: false\n\t\t\t\tbaseData.inset = shadow.inset;\n\t\t\t\t//offsetX: 12\n\t\t\t\tnumber(key + '_' + i + \"_offsetX\", shadow.offsetX || 0, target, data, initials, forceUnits);\n\t\t\t\t//offsetY: 12\n\t\t\t\tnumber(key + '_' + i + \"_offsetY\", shadow.offsetY || 0, target, data, initials, forceUnits);\n\t\t\t\t//spreadRadius: 1\n\t\t\t\tnumber(key + '_' + i + \"_spreadRadius\", shadow.spreadRadius || 0, target, data, initials, forceUnits);\n\t\t\t}\n\t\t\t\n\t\t\tdata[key][i] = baseData;\n\t\t}\n\t);\n\treturn demux;\n}","module.exports = require(\"tween-axis\");","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport is                         from \"is\";\nimport {floatCut, units, unitsRe} from \"../../cssUtils\";\n\nconst defaultUnits    = {\n\t      left       : 'px',\n\t      right      : 'px',\n\t      top        : 'px',\n\t      bottom     : 'px',\n\t      width      : 'px',\n\t      height     : 'px',\n\t      perspective: 'px',\n      },\n      defaultBox      = {\n\t      left  : 'x',\n\t      right : 'x',\n\t      top   : 'y',\n\t      bottom: 'y',\n\t      width : 'x',\n\t      height: 'y',\n      }, defaultValue = {\n\t      opacity: 1\n      };\n\nfunction demuxOne( key, twVal, baseKey, data, box ) {\n\tlet value = twVal,\n\t    unit  = data[baseKey][key] || defaultUnits[baseKey] || \"px\";\n\t\n\tif ( unit === 'box' ) {\n\t\tvalue = value * (box[defaultBox[baseKey]] || box.x);\n\t\tunit  = 'px';\n\t\t\n\t}\n\tif ( unit === 'bw' ) {\n\t\tvalue = value * box.x;\n\t\tunit  = 'px';\n\t}\n\tif ( unit === 'bh' ) {\n\t\tvalue = value * box.y;\n\t\tunit  = 'px';\n\t}\n\tif ( unit === 'bz' ) {\n\t\tvalue = value * box.z;\n\t\tunit  = 'px';\n\t}\n\treturn unit ? floatCut(value) + unit : floatCut(value);\n}\n\nfunction demux( key, tweenable, target, data, box, baseKey ) {\n\tlet value, i = 0;\n\t\n\tvalue = \"\";\n\t\n\tfor ( let rKey in data[key] )\n\t\tif ( data[key].hasOwnProperty(rKey) ) {\n\t\t\tif ( tweenable[rKey] < 0 )\n\t\t\t\tvalue += (i ? \" - \" : \"-\") + demuxOne(rKey, -tweenable[rKey], baseKey || key, data, box);\n\t\t\telse\n\t\t\t\tvalue += (i ? \" + \" : \"\") + demuxOne(rKey, tweenable[rKey], baseKey || key, data, box);\n\t\t\ti++;\n\t\t}\n\tif ( i > 1 )\n\t\tvalue = \"calc(\" + value + \")\";\n\t\n\treturn target ? target[key] = value : value;\n}\n\nfunction muxer( key, value, target, data, initials, forceUnits ) {\n\t\n\tdata[key] = data[key] || {};\n\tif ( is.array(value) ) {\n\t\tfor ( let i = 0; i < value.length; i++ ) {\n\t\t\t\n\t\t\tmuxOne(key, value[i] || 0, target, data, initials, forceUnits)\n\t\t}\n\t}\n\telse {\n\t\tmuxOne(key, value || 0, target, data, initials, forceUnits)\n\t}\n\t\n\treturn demux;\n}\n\nfunction muxOne( key, value, target, data, initials, forceUnits ) {\n\t\n\t\n\tlet match   = is.string(value) ? value.match(unitsRe) : false,\n\t    unit    = match && match[2] || defaultUnits[key],\n\t    unitKey = units.indexOf(unit),\n\t    realKey = unitKey !== -1 && (key + '_' + unitKey) || key;\n\t\n\tinitials[realKey]  = defaultValue[key] || 0;\n\tdata[key][realKey] = unit;\n\tdata[realKey]      = key;\n\t\n\tif ( match ) {\n\t\ttarget[realKey] = parseFloat(match[1]);\n\t}\n\telse {\n\t\ttarget[realKey] = parseFloat(value);\n\t}\n\t\n\treturn demux;\n};\nmuxer.demux    = demux;\nmuxer.demuxOne = demuxOne;\nexport default muxer;","module.exports = require(\"react-dom\");","module.exports = require(\"css-box-shadow\");","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport rgba from \"color-rgba\";\n\nfunction demux( key, tweenable, target, data ) {\n\tlet value = \"rgba(\" + tweenable[key + '_r'] + \", \" + tweenable[key + '_g'] + \", \" + tweenable[key + '_b'] + \", \" + tweenable[key + '_a'] + \")\";\n\treturn target ?\n\t       target[key] = value : value;\n}\n\nfunction muxer( key, value, target, data, initials ) {\n\tlet vect           = rgba(value);\n\ttarget[key + '_r'] = vect[0];\n\ttarget[key + '_g'] = vect[1];\n\ttarget[key + '_b'] = vect[2];\n\ttarget[key + '_a'] = vect[3];\n\t\n\tinitials[key + '_r'] = 0;\n\tinitials[key + '_g'] = 0;\n\tinitials[key + '_b'] = 0;\n\tinitials[key + '_a'] = 1;\n\t\n\treturn demux;\n}\n\nmuxer.demux = demux;\nexport default muxer;","module.exports = require(\"d3-ease\");","module.exports = require(\"fast-deep-equal\");","module.exports = require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\");","module.exports = require(\"shortid\");","module.exports = require(\"@babel/runtime/helpers/assertThisInitialized\");","module.exports = require(\"color-rgba\");","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport is                  from \"is\";\nimport {floatCut, unitsRe} from \"../cssUtils\";\n\nconst\n\tdefaultUnits = {\n\t\tblur      : 'px',\n\t\tbrightness: '%',\n\t\tcontrast  : '%',\n\t\tdropShadow: true,\n\t\tgrayscale : '%',\n\t\thueRotate : 'deg',\n\t\tinvert    : \"%\",\n\t\topacity   : \"%\",\n\t\tsaturate  : \"%\",\n\t\tsepia     : \"%\"\n\t};\nconst filters    = {};\n\nfunction demux( key, tweenable, target, data, box ) {\n\t\n\tif ( data[\"filter_head\"] === key ) {\n\t\tlet filters = \"\";\n\t\tObject.keys(data[key]).forEach(\n\t\t\tfkey => {\n\t\t\t\tlet dkey        = key + '_' + fkey;\n\t\t\t\tdata[key][fkey] = true;\n\t\t\t\tfilters += fkey + \"(\" + floatCut(tweenable[dkey], 2) + data[dkey] + \") \";\n\t\t\t}\n\t\t)\n\t\ttarget.filter = filters;\n\t}\n\t\n}\n\nexport default ( key, value, target, data, initials ) => {\n\t\n\tdata[\"filter_head\"] = data[\"filter_head\"] || key;\n\tdata[key]           = data[key] || {};\n\tinitials[key]       = 0;\n\t\n\tObject.keys(value).forEach(\n\t\tfkey => {\n\t\t\tlet fValue      = value[fkey],\n\t\t\t    dkey        = key + '_' + fkey,\n\t\t\t    match       = is.string(fValue) ? fValue.match(unitsRe) : false;\n\t\t\tdata[key][fkey] = true;\n\t\t\tinitials[dkey]  = 0;\n\t\t\tif ( match ) {\n\t\t\t\tif ( data[dkey] && data[dkey] !== match[2] ) {\n\t\t\t\t\tconsole.warn(\"Have != units on prop ! Ignore \", dkey, \"present:\" + data[dkey], \"new:\" + match[2]);\n\t\t\t\t\ttarget[dkey] = 0;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tdata[dkey]   = match[2];\n\t\t\t\t\ttarget[dkey] = parseFloat(match[1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttarget[dkey] = fValue;\n\t\t\t\tif ( !data[dkey] && fkey in defaultUnits )\n\t\t\t\t\tdata[dkey] = defaultUnits[fkey];\n\t\t\t}\n\t\t}\n\t)\n\treturn demux;\n}","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\nexport {default} from \"./typed/shadow\";","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nconst defaultUnits = {};\n\nfunction demux( key, tweenable, target, data, box ) {\n\ttarget[key] = ~~(tweenable[key]);\n}\n\nexport default ( key, value, target, data, initials, forceUnits ) => {\n\t\n\t\n\tinitials[key] = 0;\n\ttarget[key]   = ~~value;\n\tif ( !data[key] && key in defaultUnits )\n\t\tdata[key] = defaultUnits[key];\n\t\n\treturn demux;\n}","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport is     from \"is\";\nimport number from \"./number\";\n\nconst\n\talias    = {\n\t\ttop   : '0%',\n\t\tbottom: '100%',\n\t\tcenter: '50%',\n\t\tleft  : '0%',\n\t\tright : '100%'\n\t};\n\nfunction demux( key, tweenable, target, data, box, offset ) {\n\t\n\tlet count = data[key], v = '', nowhere = {};\n\t\n\tfor ( let i = 0; i < count; i++ ) {\n\t\tnumber.demux(key + '_' + i, tweenable, nowhere, data, box, offset);\n\t\tv += nowhere[key + '_' + i] + ' ';\n\t}\n\t\n\ttarget[key] = v;\n}\n\nexport default ( count ) => ( key, value, target, data, initials ) => {\n\tlet values = value.split(' '), v;\n\t\n\tdata[key] = count;\n\t\n\tfor ( let i = 0; i < count; i++ ) {\n\t\tv = values[i % values.length];\n\t\tv = is.string(v) && alias[v] || v;\n\t\tnumber(key + '_' + i, v, target, data, initials)\n\t}\n\t\n\treturn demux;\n}","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport is                         from \"is\";\nimport {floatCut, units, unitsRe} from \"../cssUtils\";\n\nconst defaultUnits    = {\n\t      //matrix     : true,\n\t      //translate  : 'px',\n\t      translateX : 'px',\n\t      translateY : 'px',\n\t      translateZ : 'px',\n\t      scale      : '',\n\t      scaleZ     : '',\n\t      scaleX     : '',\n\t      scaleY     : '',\n\t      rotate     : 'deg',\n\t      //skew       : 'deg',\n\t      skewX      : 'deg',\n\t      skewY      : 'deg',\n\t      //matrix3d   : true,\n\t      //translate3d: true,\n\t      //scale3d    : true,\n\t      //rotate3d   : true,\n\t      rotateX    : 'deg',\n\t      rotateY    : 'deg',\n\t      rotateZ    : 'deg',\n\t      perspective: 'px',\n      },\n      defaultBox      = {\n\t      translateX: 'x',\n\t      translateY: 'y',\n\t      translateZ: 'z',\n\t      rotateX   : 'x',\n\t      rotateY   : 'y',\n\t      rotateZ   : 'z',\n\t      left      : 'x',\n\t      right     : 'x',\n\t      top       : 'y',\n\t      bottom    : 'y',\n\t      width     : 'x',\n\t      height    : 'y',\n      }, defaultValue = {\n\t      //skew  : 1,\n\t      //skewX : 1,\n\t      //skewY : 1,\n\t      scale : 1,\n\t      scaleX: 1,\n\t      scaleY: 1,\n\t      scaleZ: 1\n      };\n\nfunction demuxOne( key, dkey, twVal, baseKey, data, box ) {\n\tlet value = twVal,\n\t    unit  = data[dkey][key] || defaultUnits[baseKey];\n\t\n\tif ( unit === 'box' ) {\n\t\tvalue = value * (box[defaultBox[baseKey]] || box.x);\n\t\tunit  = 'px';\n\t}\n\tif ( unit === 'bw' ) {\n\t\tvalue = value * box.x;\n\t\tunit  = 'px';\n\t}\n\tif ( unit === 'wh' ) {\n\t\tvalue = value * box.y;\n\t\tunit  = 'px';\n\t}\n\tif ( unit === 'bz' ) {\n\t\tvalue = value * box.z;\n\t\tunit  = 'px';\n\t}\n\t\n\tif ( unit === 'deg' )\n\t\tvalue = value % 360;\n\t\n\treturn unit ? floatCut(value) + unit : floatCut(value);\n}\n\nfunction demux( key, tweenable, target, data, box ) {\n\t\n\tif ( data[\"transform_head\"] === key ) {\n\t\tlet transforms = \"\",\n\t\t    tmpValue   = {};\n\t\tdata[key].forEach(\n\t\t\t( tmap = {}, i ) => Object.keys(tmap).forEach(\n\t\t\t\tfkey => {\n\t\t\t\t\tlet dkey     = key + '_' + fkey + '_' + i;\n\t\t\t\t\tlet value, y = 0, iValue;\n\t\t\t\t\t\n\t\t\t\t\tvalue = \"\";\n\t\t\t\t\t\n\t\t\t\t\tfor ( let rKey in data[dkey] )\n\t\t\t\t\t\tif ( data[dkey].hasOwnProperty(rKey) ) {\n\t\t\t\t\t\t\tif ( !tweenable[rKey] )\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\tiValue = demuxOne(rKey, dkey, tweenable[rKey], fkey, data, box);\n\t\t\t\t\t\t\tif ( y && iValue[0] === '-' )\n\t\t\t\t\t\t\t\tiValue = \" - \" + iValue.substr(2);\n\t\t\t\t\t\t\telse if ( y )\n\t\t\t\t\t\t\t\tiValue = \" + \" + iValue;\n\t\t\t\t\t\t\tvalue += iValue;\n\t\t\t\t\t\t\ty++;\n\t\t\t\t\t\t}\n\t\t\t\t\tif ( y > 1 )\n\t\t\t\t\t\tvalue = \"calc(\" + value + \")\";\n\t\t\t\t\t\n\t\t\t\t\ttransforms += fkey + \"(\" + (value || \"0\") + \") \";\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t)\n\t\t)\n\t\ttarget.transform = transforms;\n\t}\n\t\n}\n\nfunction muxOne( key, baseKey, value, target, data, initials, forceUnits ) {\n\t\n\tlet match   = is.string(value) ? value.match(unitsRe) : false,\n\t    unit    = match && match[2] || defaultUnits[key],\n\t    unitKey = units.indexOf(unit),\n\t    realKey = unitKey !== -1 && (key + '_' + unitKey) || key;\n\t\n\tinitials[realKey] = defaultValue[baseKey] || 0;\n\t\n\tdata[key][realKey] = unit;\n\t\n\tif ( match ) {\n\t\ttarget[realKey] = parseFloat(match[1]);\n\t}\n\telse {\n\t\ttarget[realKey] = parseFloat(value);\n\t}\n\t\n\treturn demux;\n};\nexport default ( key, value, target, data, initials, forceUnits, reset ) => {\n\t\n\tdata[\"transform_head\"] = data[\"transform_head\"] || key;\n\tdata[key]              = data[key] || [{}];\n\tinitials[key]          = 0;\n\t\n\tif ( !is.array(value) )\n\t\tvalue = [value];\n\t\n\tvalue.forEach(\n\t\t( tmap, i ) => {\n\t\t\tlet baseData = {};\n\t\t\ttmap && Object.keys(tmap).forEach(\n\t\t\t\tfkey => {\n\t\t\t\t\tlet fValue = tmap[fkey],\n\t\t\t\t\t    dkey   = key + '_' + fkey + '_' + i;\n\t\t\t\t\t\n\t\t\t\t\tbaseData[fkey] = true;\n\t\t\t\t\t\n\t\t\t\t\tdata[dkey] = data[dkey] || {};\n\t\t\t\t\tif ( is.array(fValue) ) {\n\t\t\t\t\t\tfor ( let u = 0; u < fValue.length; u++ ) {\n\t\t\t\t\t\t\tmuxOne(dkey, fkey, fValue[u] || 0, target, data, initials, forceUnits)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tmuxOne(dkey, fkey, fValue || 0, target, data, initials, forceUnits)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\t\t\tdata[key][i] =\n\t\t\t\tforceUnits\n\t\t\t\t? { ...baseData, ...(data[key][i] || {}) }\n\t\t\t\t: { ...(data[key][i] || {}), ...baseData };\n\t\t}\n\t)\n\treturn demux;\n}","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\nexport {default} from \"./typed/shadow\";","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\nexport {default} from \"./typed/color\";","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\n\nconst TweenerContext = React.createContext(null);\nexport default TweenerContext","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport PropTypes from \"prop-types\";\nimport React     from 'react';\n\nimport TweenerContext from \"./TweenerContext\";\n\nexport default class TweenAxis extends React.Component {\n\tstatic propTypes = {\n\t\taxe            : PropTypes.string.isRequired,\n\t\titems          : PropTypes.array,\n\t\tbounds         : PropTypes.object,\n\t\tinertia        : PropTypes.any,\n\t\tdefaultPosition: PropTypes.number,\n\t\tsize           : PropTypes.any\n\t};\n\tstate            = {};\n\t\n\tcomponentWillUnmount() {\n\t\t\n\t\tif ( this._tweenLines ) {\n\t\t\tObject.keys(this._tweenLines)\n\t\t\t      .forEach(axe => this._previousTweener.rmScrollableAnim(this._tweenLines[axe], axe));\n\t\t\t\n\t\t}\n\t\tdelete this._previousTweener;\n\t\tdelete this._previousScrollable;\n\t}\n\t\n\trender() {\n\t\tlet {\n\t\t\t    children,\n\t\t\t    axe, scrollFirst, bounds,\n\t\t\t    scrollableWindow, inertia, size, defaultPosition,\n\t\t\t    items = [],\n\t\t    } = this.props;\n\t\treturn <TweenerContext.Consumer>\n\t\t\t{\n\t\t\t\ttweener => {\n\t\t\t\t\t//if ( React.isValidElement(children) ) {\n\t\t\t\t\t//\tchildren = React.cloneElement(\n\t\t\t\t\t//\t\tchildren,\n\t\t\t\t\t//\t\t{\n\t\t\t\t\t//\t\t\t...tweener.tweenRef(id, style || children.props.style, initial, pos, noRef, reset),\n\t\t\t\t\t//\t\t\tonDoubleClick: onDoubleClick && (e => onDoubleClick(e, tweener)),\n\t\t\t\t\t//\t\t\tonClick      : onClick && (e => onClick(e, tweener))\n\t\t\t\t\t//\t\t}\n\t\t\t\t\t//\t);\n\t\t\t\t\t//\n\t\t\t\t\t//}\n\t\t\t\t\tif ( !this._previousAxis || this._previousAxis !== axe ) {//....\n\t\t\t\t\t\tthis._previousAxis    = axe;\n\t\t\t\t\t\tthis._previousInertia = inertia;\n\t\t\t\t\t\ttweener.initAxis(axe, {\n\t\t\t\t\t\t\tinertia,\n\t\t\t\t\t\t\tsize,\n\t\t\t\t\t\t\tscrollableWindow,\n\t\t\t\t\t\t\tdefaultPosition,\n\t\t\t\t\t\t\tscrollFirst,\n\t\t\t\t\t\t\tscrollableBounds: bounds\n\t\t\t\t\t\t}, true);\n\t\t\t\t\t}\n\t\t\t\t\telse if ( !this._previousInertia || this._previousInertia !== inertia ) {//....\n\t\t\t\t\t\tthis._previousInertia = inertia;\n\t\t\t\t\t\tthis._previousAxis    = axe;\n\t\t\t\t\t\ttweener.initAxis(axe, {\n\t\t\t\t\t\t\tinertia,\n\t\t\t\t\t\t\tsize,\n\t\t\t\t\t\t\tscrollableWindow,\n\t\t\t\t\t\t\tdefaultPosition,\n\t\t\t\t\t\t\tscrollFirst,\n\t\t\t\t\t\t\tscrollableBounds: bounds\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif ( !this._previousTweener || this._previousTweener !== tweener ) {// mk axe not modifiable\n\t\t\t\t\t\tthis._previousTweener && this._lastTL && this._previousTweener.rmScrollableAnim(this._lastTL, this._previousAxis);\n\t\t\t\t\t\tif ( items.length )\n\t\t\t\t\t\t\tthis._lastTL = tweener.addScrollableAnim(items, axe, size);\n\t\t\t\t\t\tthis._previousTweener = tweener;\n\t\t\t\t\t\tthis._previousTweens  = items;\n\t\t\t\t\t}\n\t\t\t\t\telse if ( this._previousTweens !== items ) {\n\t\t\t\t\t\tthis._lastTL && tweener.rmScrollableAnim(this._lastTL, this._previousAxis);\n\t\t\t\t\t\tthis._lastTL = null;\n\t\t\t\t\t\tif ( items.length )\n\t\t\t\t\t\t\tthis._lastTL = tweener.addScrollableAnim(items, axe, size);\n\t\t\t\t\t\tthis._previousTweens = items;\n\t\t\t\t\t}\n\t\t\t\t\treturn <React.Fragment/>;\n\t\t\t\t}\n\t\t\t}\n\t\t</TweenerContext.Consumer>;\n\t}\n}","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport is      from \"is\";\nimport React   from 'react';\nimport shortid from 'shortid';\n\nimport TweenerContext from \"./TweenerContext\";\n\nfunction setTarget( anims, target ) {\n\treturn anims.map(\n\t\ttween => ({\n\t\t\t...tween,\n\t\t\ttarget\n\t\t})\n\t)\n}\n\nexport default class TweenRef extends React.Component {\n\t\n\tstatic propTypes = {};\n\tstate            = {};\n\t__tweenableId    = shortid.generate();\n\t\n\tcomponentWillUnmount() {\n\t\tif ( this._tweenAxis ) {\n\t\t\tObject.keys(this._tweenAxis)\n\t\t\t      .forEach(axe => this._currentTweener.rmScrollableAnim(this._tweenAxis[axe], axe));\n\t\t\t\n\t\t}\n\t\tif ( this._currentTweener ) {\n\t\t\tthis._currentTweener.rmTweenRef(this.__tweenableId)\n\t\t\tthis._currentTweener.setRootRef(undefined);\n\t\t}\n\t\tdelete this._currentTweener;\n\t\tdelete this._previousScrollable;\n\t}\n\t\n\t//componentDidMount() {\n\t//\tlet {\n\t//\t\t    children,\n\t//\t\t    id = this.__tweenableId,\n\t//\t    }      = this.props,\n\t//\t    target = this._currentTweener.getTweenableRef(id);\n\t//\tlet props  = [...target.style];// should reset ssr initials ?\n\t//\tprops.forEach(p => (target.style[p] = undefined));\n\t//\tthis._currentTweener._updateTweenRef()\n\t//}\n\t\n\trender() {\n\t\tlet {\n\t\t\t    children,\n\t\t\t    id            = this.__tweenableId,\n\t\t\t    style, initial, pos, noRef, reset, tweener,\n\t\t\t    isRoot,\n\t\t\t    tweenLines,\n\t\t\t    tweenAxis     = tweenLines,\n\t\t\t    onClick       = children && children.props && children.props.onClick,\n\t\t\t    onDoubleClick = children && children.props && children.props.onDoubleClick\n\t\t    } = this.props;\n\t\treturn <TweenerContext.Consumer>\n\t\t\t{\n\t\t\t\tparentTweener => {//@todo : must be better method\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\tparentTweener = tweener || parentTweener;\n\t\t\t\t\t\n\t\t\t\t\tif ( !parentTweener ) {\n\t\t\t\t\t\tconsole.error(\"No voodoo tweener found in the context, is there any parent with asTweener ?\")\n\t\t\t\t\t\treturn <React.Fragment/>;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tlet twRef = parentTweener.tweenRef(id, children.props && children.props.style, style || initial,\n\t\t\t\t\t                                   pos, noRef);\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\tif ( this._currentTweener !== parentTweener || this._previousScrollable !== tweenAxis ) {\n\t\t\t\t\t\tif ( this._tweenAxis ) {\n\t\t\t\t\t\t\tObject.keys(this._tweenAxis)\n\t\t\t\t\t\t\t      .forEach(axe => this._currentTweener.rmScrollableAnim(this._tweenAxis[axe], axe));\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//twRef = parentTweener.tweenRef(id, style || children.props && children.props.style, initial,\n\t\t\t\t\t\t// pos, noRef, reset);\n\t\t\t\t\t\tif ( this._currentTweener !== parentTweener )\n\t\t\t\t\t\t\tthis._currentTweener && this._currentTweener.rmTweenRef(id);\n\t\t\t\t\t\tif ( this._previousScrollable !== tweenAxis )\n\t\t\t\t\t\t\ttwRef = parentTweener.tweenRef(id, children.props && children.props.style, style || initial,\n\t\t\t\t\t\t\t                               pos, noRef, true)\n\t\t\t\t\t\t//}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif ( tweenAxis && is.array(tweenAxis) )\n\t\t\t\t\t\t\tthis._tweenAxis = { scrollY: parentTweener.addScrollableAnim(setTarget(tweenAxis, id)) };\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthis._tweenAxis = tweenAxis &&\n\t\t\t\t\t\t\t\tObject.keys(tweenAxis)\n\t\t\t\t\t\t\t\t      .reduce(( h, axe ) => (h[axe] = parentTweener.addScrollableAnim(setTarget(tweenAxis[axe], id), axe), h), {});\n\t\t\t\t\t\t\n\t\t\t\t\t\ttwRef.style = { ...parentTweener._updateTweenRef(id) };\n\t\t\t\t\t\t\n\t\t\t\t\t\tif ( this.props.hasOwnProperty(\"isRoot\") ) {\n\t\t\t\t\t\t\tthis._currentTweener && this._currentTweener.setRootRef(undefined);\n\t\t\t\t\t\t\ttweener.setRootRef(id);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis._currentTweener     = parentTweener;\n\t\t\t\t\t\tthis._previousScrollable = tweenAxis;\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\telse if ( twRef ) {\n\t\t\t\t\t\ttwRef.style = { ...parentTweener._updateTweenRef(id) };\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tlet refChild = React.Children.only(children);\n\t\t\t\t\t\n\t\t\t\t\t//console.log(twRef, refChild)\n\t\t\t\t\tif ( refChild && React.isValidElement(refChild) ) {\n\t\t\t\t\t\trefChild      = React.cloneElement(\n\t\t\t\t\t\t\trefChild,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t...twRef,\n\t\t\t\t\t\t\t\tonDoubleClick: onDoubleClick && (e => onDoubleClick(e, parentTweener)),\n\t\t\t\t\t\t\t\tonClick      : onClick && (e => onClick(e, parentTweener))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis._lastRef = twRef;\n\t\t\t\t\t\treturn refChild;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tconsole.error(\"Invalid voodoo TweenRef child : \", id)\n\t\t\t\t\t}\n\t\t\t\t\treturn <div>Invalid</div>;\n\t\t\t\t}\n\t\t\t}\n\t\t</TweenerContext.Consumer>;\n\t}\n}\n\nTweenRef.div = ( { children, className, ...props } ) => {\n\treturn <TweenRef {...props}>\n\t\t<div className={className}>{children}</div>\n\t</TweenRef>;\n}","/* This is a virtual file generated by webpack-inherit */\nlet req, _exports = {}, cExport, fPath, i;\nconst _react_voodoo_utils_css_demux_filter_js = require(\"react-voodoo/utils/css/demux/filter.js\");\ncExport=_exports;\nfPath=\"filter\".split('/');\ni=0;while(i<fPath.length-1) cExport=cExport[fPath[i]]=cExport[fPath[i]]||{}, i++;\n\nif (!cExport[fPath[i]]){\n    cExport[fPath[i]] = Object.keys(_react_voodoo_utils_css_demux_filter_js).length === 1 && _react_voodoo_utils_css_demux_filter_js.default || _react_voodoo_utils_css_demux_filter_js;\n}\n\nconst _react_voodoo_utils_css_demux_boxShadow_js = require(\"react-voodoo/utils/css/demux/boxShadow.js\");\ncExport=_exports;\nfPath=\"boxShadow\".split('/');\ni=0;while(i<fPath.length-1) cExport=cExport[fPath[i]]=cExport[fPath[i]]||{}, i++;\n\nif (!cExport[fPath[i]]){\n    cExport[fPath[i]] = Object.keys(_react_voodoo_utils_css_demux_boxShadow_js).length === 1 && _react_voodoo_utils_css_demux_boxShadow_js.default || _react_voodoo_utils_css_demux_boxShadow_js;\n}\n\nconst _react_voodoo_utils_css_demux_transform_js = require(\"react-voodoo/utils/css/demux/transform.js\");\ncExport=_exports;\nfPath=\"transform\".split('/');\ni=0;while(i<fPath.length-1) cExport=cExport[fPath[i]]=cExport[fPath[i]]||{}, i++;\n\nif (!cExport[fPath[i]]){\n    cExport[fPath[i]] = Object.keys(_react_voodoo_utils_css_demux_transform_js).length === 1 && _react_voodoo_utils_css_demux_transform_js.default || _react_voodoo_utils_css_demux_transform_js;\n}\n\nconst _react_voodoo_utils_css_demux_textShadow_js = require(\"react-voodoo/utils/css/demux/textShadow.js\");\ncExport=_exports;\nfPath=\"textShadow\".split('/');\ni=0;while(i<fPath.length-1) cExport=cExport[fPath[i]]=cExport[fPath[i]]||{}, i++;\n\nif (!cExport[fPath[i]]){\n    cExport[fPath[i]] = Object.keys(_react_voodoo_utils_css_demux_textShadow_js).length === 1 && _react_voodoo_utils_css_demux_textShadow_js.default || _react_voodoo_utils_css_demux_textShadow_js;\n}\n\nconst _react_voodoo_utils_css_demux_backgroundColor_js = require(\"react-voodoo/utils/css/demux/backgroundColor.js\");\ncExport=_exports;\nfPath=\"backgroundColor\".split('/');\ni=0;while(i<fPath.length-1) cExport=cExport[fPath[i]]=cExport[fPath[i]]||{}, i++;\n\nif (!cExport[fPath[i]]){\n    cExport[fPath[i]] = Object.keys(_react_voodoo_utils_css_demux_backgroundColor_js).length === 1 && _react_voodoo_utils_css_demux_backgroundColor_js.default || _react_voodoo_utils_css_demux_backgroundColor_js;\n}\n\nexport const backgroundColor = _exports.backgroundColor;\n\nexport const boxShadow = _exports.boxShadow;\n\nexport const filter = _exports.filter;\n\nexport const textShadow = _exports.textShadow;\n\nexport const transform = _exports.transform;\n\nexport default _exports;","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n\nimport {expandShorthandProperty, isShorthandProperty, isValidDeclaration} from \"./cssUtils\";\nimport cssDemuxers                                                        from \"./demux/(*).js\";\n\nimport {int, multi, number} from \"./demux/typed/(*).js\";\n\n\nconst cssDemux = {\n\t...cssDemuxers,\n\theight         : number,\n\twidth          : number,\n\ttop            : number,\n\tleft           : number,\n\tright          : number,\n\tbottom         : number,\n\tmarginTop      : number,\n\tmarginLeft     : number,\n\tmarginRight    : number,\n\tmarginBottom   : number,\n\tpaddingTop     : number,\n\tpaddingLeft    : number,\n\tpaddingRight   : number,\n\tpaddingBottom  : number,\n\ttransformOrigin: multi(2),\n\tzIndex         : int,\n};\n\nexport function muxToCss( tweenable, css, demuxers, data, box ) {\n\tObject.keys(demuxers)\n\t      .forEach(\n\t\t      ( key ) => {\n\t\t\t      //if ( key === 'zIndex' ) debugger\n\t\t\t      demuxers[key](key, tweenable, css, data, box)\n\t\t      }\n\t      )\n}\n\nexport function deMuxTween( tween, deMuxedTween, initials, data, demuxers, forceUnits, reOrder ) {\n\tlet fTween = {}, excluded = {};\n\tObject.keys(tween)\n\t      .forEach(\n\t\t      ( key ) => {\n\t\t\t      if ( cssDemux[key] )\n\t\t\t\t      fTween[key] = tween[key];\n\t\t\t      else if ( isValidDeclaration(key, tween[key]) ) {\n\t\t\t\t      if ( isShorthandProperty(key) ) {\n\t\t\t\t\t      expandShorthandProperty(key, tween[key], fTween);\n\t\t\t\t      }\n\t\t\t\t      else fTween[key] = tween[key];\n\t\t\t      }\n\t\t\t      else excluded[key] = tween[key];\n\t\t      });\n\t\n\tObject.keys(fTween)\n\t      .forEach(\n\t\t      ( key ) => {\n\t\t\t      if ( cssDemux[key] ) {//key, value, target, data, initials\n\t\t\t\t      demuxers[key] = cssDemux[key](key, fTween[key], deMuxedTween, data, initials, forceUnits, reOrder)\n\t\t\t      }\n\t\t\t      else\n\t\t\t\t      demuxers[key] = number(key, fTween[key], deMuxedTween, data, initials, forceUnits, reOrder)\n\t\t      }\n\t      );\n\treturn excluded;\n}\n\nexport function deMuxLine( tweenLine, initials, data, demuxers ) {\n\treturn tweenLine.reduce(\n\t\t( line, tween ) => {\n\t\t\tlet demuxedTween       = {};\n\t\t\tdemuxers[tween.target] = demuxers[tween.target] || {};\n\t\t\tinitials[tween.target] = initials[tween.target] || {};\n\t\t\tdata[tween.target]     = data[tween.target] || {};\n\t\t\t\n\t\t\tif ( !tween.type || tween.type === \"Tween\" ) {\n\t\t\t\tdeMuxTween(tween.apply, demuxedTween, initials[tween.target], data[tween.target], demuxers[tween.target]);\n\t\t\t\tline.push(\n\t\t\t\t\t{\n\t\t\t\t\t\t...tween,\n\t\t\t\t\t\tapply: demuxedTween\n\t\t\t\t\t});\n\t\t\t}\n\t\t\telse line.push({ ...tween });\n\t\t\treturn line\n\t\t},\n\t\t[]\n\t)\n}","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\nlet\n\tis        = require('is'),\n\tisBrowser = typeof window !== 'undefined',\n\tisTouch   = isBrowser && (function is_touch_device() {\n\t\tvar prefixes = ' -webkit- -moz- -o- -ms- '.split(' ');\n\t\tvar mq       = function ( query ) {\n\t\t\treturn window.matchMedia&&window.matchMedia(query).matches;\n\t\t}\n\t\t\n\t\tif ( ('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch ) {\n\t\t\treturn true;\n\t\t}\n\t\t\n\t\t// include the 'heartz' as a way to have a non matching MQ to help terminate the join\n\t\t// https://git.io/vznFH\n\t\tvar query = ['(', prefixes.join('touch-enabled),('), 'heartz', ')'].join('');\n\t\treturn mq(query);\n\t}()),\n\t_dom      = isBrowser ? {\n\t\tprefix      : (/webkit/i).test(navigator.appVersion) ? 'webkit' :\n\t\t              (/firefox/i).test(navigator.userAgent) ? 'Moz' :\n\t\t              (/trident/i).test(navigator.userAgent) ? 'ms' :\n\t\t              'opera' in window ? 'O' : '',\n\t\tdashedPrefix: (/webkit/i).test(navigator.appVersion) ? '-webkit-' :\n\t\t              (/firefox/i).test(navigator.userAgent) ? '-moz-' :\n\t\t              (/trident/i).test(navigator.userAgent) ? '-ms-' :\n\t\t              'opera' in window ? '-o-' : ''\n\t} : {\n\t\tprefix      : '',\n\t\tdashedPrefix: ''\n\t},\n\t__        = {\n\t\tonPageHided      : [],\n\t\tonPageShown      : [],\n\t\tdragging         : [],\n\t\tdragEnabled      : [],\n\t\tdragEnabledDesc  : [],\n\t\tfingers          : {},\n\t\tnbFingers        : 0,\n\t\tdragstartAnywhere: function ( e ) {\n\t\t\tlet o,\n\t\t\t    me            = __,\n\t\t\t    i             = me.dragEnabled.indexOf(this),\n\t\t\t    finger,\n\t\t\t    desc, fingers = [];\n\t\t\t\n\t\t\tif ( i === -1 ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//e.preventDefault();\n\t\t\t//e.stopPropagation();\n\t\t\t\n\t\t\tif ( !me.nbFingers ) {\n\t\t\t\tDom.addEvent(document,\n\t\t\t\t             {\n\t\t\t\t\t             'touchmove': me.dragAnywhere,\n\t\t\t\t\t             'mousemove': me.dragAnywhere,\n\t\t\t\t\t             'touchend' : me.dropAnywhere,\n\t\t\t\t\t             'mouseup'  : me.dropAnywhere,\n\t\t\t\t             });\n\t\t\t\tDom.addEvent(this,\n\t\t\t\t             {\n\t\t\t\t\t             'click': me.dropWithoutClick\n\t\t\t\t             }, null, null, true);\n\t\t\t}\n\t\t\t\n\t\t\tif ( e.changedTouches && e.changedTouches.length ) {\n\t\t\t\tfingers = e.changedTouches\n\t\t\t}\n\t\t\telse fingers.push(e);\n\t\t\t\n\t\t\tfor ( let t = 0, ln = fingers.length; t < ln; t++ ) {\n\t\t\t\tfinger = fingers[t];\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tdesc = me.dragEnabledDesc[i];\n\t\t\t\t\n\t\t\t\tif ( desc.nbFingers ) continue;\n\t\t\t\t\n\t\t\t\tme.nbFingers++;\n\t\t\t\t\n\t\t\t\tme.fingers[finger.identifier] = me.fingers[finger.identifier] || [];\n\t\t\t\tme.fingers[finger.identifier].push(desc);\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tdesc.nbFingers++;\n\t\t\t\t\n\t\t\t\tdesc._startPos.x = _dom.prefix == 'MS' ? finger.x : finger.pageX;\n\t\t\t\tdesc._startPos.y = _dom.prefix == 'MS' ? finger.y : finger.pageY;\n\t\t\t\tdesc._startTs    = e.timeStamp;\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tdesc._lastPos.x = _dom.prefix == 'MS' ? finger.x : finger.pageX;\n\t\t\t\tdesc._lastPos.y = _dom.prefix == 'MS' ? finger.y : finger.pageY;\n\t\t\t\t\n\t\t\t\tfor ( o = 0; o < desc.dragstart.length; o++ )\n\t\t\t\t\tdesc.dragstart[o][0].call(desc.dragstart[o][1] ||\n\t\t\t\t\t\t                          this, e, finger, desc);\n\t\t\t}\n\t\t},\n\t\tdragAnywhere     : function ( e ) {\n\t\t\tlet o,\n\t\t\t    me              = __,\n\t\t\t    finger, fingers = [], stopped,\n\t\t\t    desc            = __.dragging[0];\n\t\t\t\n\t\t\t\n\t\t\tif ( e.changedTouches && e.changedTouches.length ) {\n\t\t\t\tfingers = e.changedTouches\n\t\t\t}\n\t\t\telse fingers.push(e);\n\t\t\t\n\t\t\tfor ( let i = 0, ln = fingers.length; i < ln; i++ ) {\n\t\t\t\tfinger = fingers[i];\n\t\t\t\tdesc   = me.fingers[finger.identifier];\n\t\t\t\tme.fingers[finger.identifier] &&\n\t\t\t\tme.fingers[finger.identifier].forEach(\n\t\t\t\t\tdesc => {\n\t\t\t\t\t\tif ( stopped ) {\n\t\t\t\t\t\t\tdesc._lastPos.x = desc._startPos.x = _dom.prefix == 'MS' ? finger.x : finger.pageX;\n\t\t\t\t\t\t\tdesc._lastPos.y = desc._startPos.y = _dom.prefix == 'MS' ? finger.y : finger.pageY;\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdesc._lastPos.x = _dom.prefix == 'MS' ? finger.x : finger.pageX;\n\t\t\t\t\t\tdesc._lastPos.y = _dom.prefix == 'MS' ? finger.y : finger.pageY;\n\t\t\t\t\t\t\n\t\t\t\t\t\tfor ( o = 0; o < desc.drag.length; o++ )\n\t\t\t\t\t\t\tstopped = desc.drag[o][0].call(desc.drag[o][1] || this, e,\n\t\t\t\t\t\t\t                               finger,\n\t\t\t\t\t\t\t                               desc) === false;\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tdropWithoutClick : function ( e ) {\n\t\t\tif ( __.preventNextClick ) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t__.preventNextClick = false;\n\t\t\t}\n\t\t\tDom.removeEvent(this,\n\t\t\t                {\n\t\t\t\t                'click': this.dropWithoutClick\n\t\t\t                });\n\t\t},\n\t\tdropAnywhere     : function ( e ) {\n\t\t\tlet o,\n\t\t\t    me = __, finger, fingers = [],\n\t\t\t    prevent;\n\t\t\t\n\t\t\tif ( e.changedTouches && e.changedTouches.length ) {\n\t\t\t\tfingers = e.changedTouches\n\t\t\t}\n\t\t\telse fingers.push(e);\n\t\t\t\n\t\t\tfor ( let i = 0, ln = fingers.length; i < ln; i++ ) {\n\t\t\t\tfinger = fingers[i];\n\t\t\t\tme.nbFingers--;\n\t\t\t\tme.fingers[finger.identifier] &&\n\t\t\t\tme.fingers[finger.identifier].forEach(\n\t\t\t\t\tdesc => {\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\tdesc.nbFingers--;\n\t\t\t\t\t\tprevent         = prevent || desc.mouseDrag && (e.timeStamp - desc._startTs > 250);\n\t\t\t\t\t\tdesc._lastPos.x = _dom.prefix == 'MS' ? finger.x : finger.pageX;\n\t\t\t\t\t\tdesc._lastPos.y = _dom.prefix == 'MS' ? finger.y : finger.pageY;\n\t\t\t\t\t\t\n\t\t\t\t\t\tfor ( o = 0; o < desc.dropped.length; o++ )\n\t\t\t\t\t\t\tdesc.dropped[o][0].call(desc.dropped[o][1] ||\n\t\t\t\t\t\t\t\t                        this, e,\n\t\t\t\t\t\t\t                        finger, desc);\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\tme.fingers[finger.identifier] = null;\n\t\t\t}\n\t\t\tif ( prevent ) {\n\t\t\t\tme.preventNextClick = true;\n\t\t\t}\n\t\t\tif ( !me.nbFingers ) {\n\t\t\t\tDom.removeEvent(document,\n\t\t\t\t                {\n\t\t\t\t\t                'touchmove': me.dragAnywhere,\n\t\t\t\t\t                'mousemove': me.dragAnywhere,\n\t\t\t\t\t                'touchend' : me.dropAnywhere,\n\t\t\t\t\t                'mouseup'  : me.dropAnywhere\n\t\t\t\t                });\n\t\t\t}\n\t\t},\n\t\tgetDraggable     : function ( node, mouseDrag ) {\n\t\t\tlet i = this.dragEnabled.indexOf(node), desc;\n\t\t\tif ( i === -1 ) {\n\t\t\t\tthis.dragEnabled.push(node);\n\t\t\t\tthis.dragEnabledDesc.push(\n\t\t\t\t\tdesc = {\n\t\t\t\t\t\tmouseDrag,\n\t\t\t\t\t\tnbFingers: 0,\n\t\t\t\t\t\tlocks    : 0,\n\t\t\t\t\t\t_startPos: {\n\t\t\t\t\t\t\tx: 0,\n\t\t\t\t\t\t\ty: 0\n\t\t\t\t\t\t},\n\t\t\t\t\t\t_lastPos : {\n\t\t\t\t\t\t\tx: 0,\n\t\t\t\t\t\t\ty: 0\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdragstart: [],\n\t\t\t\t\t\tdrag     : [],\n\t\t\t\t\t\tdragEnd  : [],\n\t\t\t\t\t\tdropped  : []\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\t//debugger;\n\t\t\t\tDom.addEvent(node,\n\t\t\t\t             {\n\t\t\t\t\t             'mousedown' : mouseDrag && this.dragstartAnywhere,\n\t\t\t\t\t             'touchstart': this.dragstartAnywhere\n\t\t\t\t             }, null, null, true);\n\t\t\t}\n\t\t\telse desc = this.dragEnabledDesc[i];\n\t\t\treturn desc;\n\t\t},\n\t\tfreeDraggable    : function ( node ) {\n\t\t\tlet i = this.dragEnabled.indexOf(node), desc;\n\t\t\tif ( i !== -1 ) {\n\t\t\t\tthis.dragEnabled.splice(i, 1);\n\t\t\t\tthis.dragEnabledDesc.splice(i, 1);\n\t\t\t\t\n\t\t\t\tDom.removeEvent(node,\n\t\t\t\t                {\n\t\t\t\t\t                'mousedown' : this.dragstartAnywhere,\n\t\t\t\t\t                'touchstart': this.dragstartAnywhere\n\t\t\t\t                });\n\t\t\t}\n\t\t},\n\t\taddOverflowEvent : function addFlowListener( element, fn ) {\n\t\t\t\n\t\t\tlet type = 'over', flow = type == 'over';\n\t\t\t\n\t\t\telement.addEventListener('OverflowEvent' in window ? 'overflowchanged' : type + 'flow',\n\t\t\t                         function ( e ) {\n\t\t\t\t                         if ( e.type == (type + 'flow') ||\n\t\t\t\t\t                         ((e.orient == 0 && e.horizontalOverflow == flow) ||\n\t\t\t\t\t\t                         (e.orient == 1 && e.verticalOverflow == flow) ||\n\t\t\t\t\t\t                         (e.orient == 2 && e.horizontalOverflow == flow &&\n\t\t\t\t\t\t\t                         e.verticalOverflow == flow)) ) {\n\t\t\t\t\t                         return fn.call(this, e);\n\t\t\t\t                         }\n\t\t\t                         }, false);\n\t\t\t\n\t\t},\n\t\taddEvent         : function ( node, type, fn, bubble ) {\n\t\t\tif ( node.addEventListener ) {\n\t\t\t\tnode.addEventListener(type, fn, bubble);\n\t\t\t}\n\t\t\telse if ( node.attachEvent ) {\n\t\t\t\tnode.attachEvent('on' + type,\n\t\t\t\t                 fn.related = function ( e ) {\n\t\t\t\t\t                 return fn.call(node, e);\n\t\t\t\t                 });\n\t\t\t}\n\t\t},\n\t\tremoveEvent      : function ( node, type, fn, bubble ) {\n\t\t\tif ( node.removeEventListener ) {\n\t\t\t\tnode.removeEventListener(type, fn, bubble);\n\t\t\t}\n\t\t\telse if ( node.attachEvent ) {\n\t\t\t\tnode.detachEvent('on' + type, fn.related);\n\t\t\t}\n\t\t},\n\t\trmDragFn         : function ( arr, fn, scope ) {\n\t\t\tfor ( let i = 0, ln = arr.length; i < ln; i++ ) {\n\t\t\t\tif ( arr[i][0] === fn )\n\t\t\t\t\treturn arr.splice(i, 1);\n\t\t\t}\n\t\t\t\n\t\t\tconsole.warn(\"Rm event : Listener not found !!\");\n\t\t},\n\t},\n\tDom       = {\n\t\taddEvent     : function ( node, type, fn, mouseDrag, bubble ) {\n\t\t\tif ( is.object(type) ) {\n\t\t\t\tfor ( let o in type )\n\t\t\t\t\tif ( type.hasOwnProperty(o) && type[o] )\n\t\t\t\t\t\tthis.addEvent(node, o, type[o], mouseDrag, bubble);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telse if ( type == 'dragstart' ) {\n\t\t\t\t__.getDraggable(node, mouseDrag).dragstart.push([fn, mouseDrag]);\n\t\t\t}\n\t\t\telse if ( type == 'drag' ) {\n\t\t\t\t__.getDraggable(node, mouseDrag).drag.push([fn, mouseDrag]);\n\t\t\t}\n\t\t\telse if ( type == 'dropped' ) {\n\t\t\t\t__.getDraggable(node, mouseDrag).dropped.push([fn, mouseDrag]);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif ( node.addEventListener ) {\n\t\t\t\t\tnode.addEventListener(type, fn, { passive: false });\n\t\t\t\t}\n\t\t\t\telse if ( node.attachEvent ) {\n\t\t\t\t\tnode.attachEvent('on' + type,\n\t\t\t\t\t                 fn.related = function ( e ) {\n\t\t\t\t\t\t                 return fn.call(node, e);\n\t\t\t\t\t                 });\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t},\n\t\tremoveEvent  : function ( node, type, fn, scope, bubble ) {\n\t\t\tlet i, desc;\n\t\t\t\n\t\t\tif ( is.object(type) ) {\n\t\t\t\tfor ( let o in type )\n\t\t\t\t\tif ( type.hasOwnProperty(o) )\n\t\t\t\t\t\tthis.removeEvent(node, o, type[o], scope);\n\t\t\t\t\n\t\t\t}\n\t\t\telse if ( /^(drag|drop)/.test(type) ) {\n\t\t\t\tdesc = __.getDraggable(node);\n\t\t\t\t__.rmDragFn(desc[type], fn, scope);\n\t\t\t\tif ( !desc.dragstart.length\n\t\t\t\t\t&& !desc.drag.length\n\t\t\t\t\t&& !desc.dragEnd.length\n\t\t\t\t\t&& !desc.dropped.length )\n\t\t\t\t\t__.freeDraggable(node);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif ( node.removeEventListener ) {\n\t\t\t\t\tnode.removeEventListener(type, fn, bubble);\n\t\t\t\t}\n\t\t\t\telse if ( node.attachEvent ) {\n\t\t\t\t\tnode.detachEvent('on' + type, fn.related);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t},\n\t\toffset       : function ( elem ) {// @todo\n\t\t\tlet dims = { top: 0, left: 0, width: elem.offsetWidth, height: elem.offsetHeight };\n\t\t\twhile ( elem ) {\n\t\t\t\tdims.top  = dims.top + parseInt(elem.offsetTop);\n\t\t\t\tdims.left = dims.left + parseInt(elem.offsetLeft);\n\t\t\t\telem      = elem.offsetParent;\n\t\t\t}\n\t\t\treturn dims;\n\t\t},\n\t\taddWheelEvent: isBrowser && (function ( window, document ) {\n\t\t\t\n\t\t\tlet prefix = \"\", _addEventListener, _rmEventListener, onwheel, support;\n\t\t\t\n\t\t\t// detect event model\n\t\t\tif ( window.addEventListener ) {\n\t\t\t\t_addEventListener = \"addEventListener\";\n\t\t\t\t_rmEventListener  = \"removeEventListener\";\n\t\t\t}\n\t\t\telse {\n\t\t\t\t_addEventListener = \"attachEvent\";\n\t\t\t\t_rmEventListener  = \"detachEvent\";\n\t\t\t\tprefix            = \"on\";\n\t\t\t}\n\t\t\t\n\t\t\t// detect available wheel event\n\t\t\tsupport = \"onwheel\" in document.createElement(\"div\") ? \"wheel\" : // Modern browsers support \"wheel\"\n\t\t\t          document.onmousewheel !== undefined ? \"mousewheel\" : // Webkit and IE support at least \"mousewheel\"\n\t\t\t          \"DOMMouseScroll\"; // let's assume that remaining browsers are older Firefox\n\t\t\t\n\t\t\tconst addWheelListener = function ( elem, callback, scope, useCapture ) {\n\t\t\t\t_addWheelListener(elem, support, callback, scope, useCapture);\n\t\t\t\t\n\t\t\t\t// handle MozMousePixelScroll in older Firefox\n\t\t\t\tif ( support == \"DOMMouseScroll\" ) {\n\t\t\t\t\t_addWheelListener(elem, \"MozMousePixelScroll\", callback, scope, useCapture);\n\t\t\t\t}\n\t\t\t};\n\t\t\t// Reasonable defaults\n\t\t\tlet PIXEL_STEP         = 10;\n\t\t\tlet LINE_HEIGHT        = 40;\n\t\t\tlet PAGE_HEIGHT        = 800;\n\t\t\t\n\t\t\tfunction normalizeWheel( /*object*/ event ) /*object*/ {\n\t\t\t\tlet sX = 0, sY = 0,       // spinX, spinY\n\t\t\t\t    pX         = 0, pY = 0;       // pixelX, pixelY\n\t\t\t\t\n\t\t\t\t// Legacy\n\t\t\t\tif ( 'detail' in event ) {\n\t\t\t\t\tsY = event.detail;\n\t\t\t\t}\n\t\t\t\tif ( 'wheelDelta' in event ) {\n\t\t\t\t\tsY = -event.wheelDelta / 120;\n\t\t\t\t}\n\t\t\t\tif ( 'wheelDeltaY' in event ) {\n\t\t\t\t\tsY = -event.wheelDeltaY / 120;\n\t\t\t\t}\n\t\t\t\tif ( 'wheelDeltaX' in event ) {\n\t\t\t\t\tsX = -event.wheelDeltaX / 120;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// side scrolling on FF with DOMMouseScroll\n\t\t\t\tif ( 'axis' in event && event.axis === event.HORIZONTAL_AXIS ) {\n\t\t\t\t\tsX = sY;\n\t\t\t\t\tsY = 0;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tpX = sX * PIXEL_STEP;\n\t\t\t\tpY = sY * PIXEL_STEP;\n\t\t\t\t\n\t\t\t\tif ( 'deltaY' in event ) {\n\t\t\t\t\tpY = event.deltaY;\n\t\t\t\t}\n\t\t\t\tif ( 'deltaX' in event ) {\n\t\t\t\t\tpX = event.deltaX;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif ( (pX || pY) && event.deltaMode ) {\n\t\t\t\t\tif ( event.deltaMode == 1 ) {          // delta in LINE units\n\t\t\t\t\t\tpX *= LINE_HEIGHT;\n\t\t\t\t\t\tpY *= LINE_HEIGHT;\n\t\t\t\t\t}\n\t\t\t\t\telse {                             // delta in PAGE units\n\t\t\t\t\t\tpX *= PAGE_HEIGHT;\n\t\t\t\t\t\tpY *= PAGE_HEIGHT;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// Fall-back if spin cannot be determined\n\t\t\t\tif ( pX && !sX ) {\n\t\t\t\t\tsX = (pX < 1) ? -1 : 1;\n\t\t\t\t}\n\t\t\t\tif ( pY && !sY ) {\n\t\t\t\t\tsY = (pY < 1) ? -1 : 1;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn {\n\t\t\t\t\tspinX : sX,\n\t\t\t\t\tspinY : sY,\n\t\t\t\t\tpixelX: pX,\n\t\t\t\t\tpixelY: pY\n\t\t\t\t};\n\t\t\t}\n\t\t\t\n\t\t\tfunction _addWheelListener( elem, eventName, callback, scope, useCapture ) {\n\t\t\t\telem[_addEventListener](prefix + eventName, callback._wheelList = function ( originalEvent ) {\n\t\t\t\t\t!originalEvent && (originalEvent = window.event);\n\t\t\t\t\t\n\t\t\t\t\t// create a normalized event object\n\t\t\t\t\tlet event = {\n\t\t\t\t\t\t// keep a ref to the original event object\n\t\t\t\t\t\toriginalEvent : originalEvent,\n\t\t\t\t\t\ttarget        : originalEvent.target || originalEvent.srcElement,\n\t\t\t\t\t\ttype          : \"wheel\",\n\t\t\t\t\t\tdeltaMode     : originalEvent.type == \"MozMousePixelScroll\" ? 0 : 1,\n\t\t\t\t\t\tdeltaX        : 0,\n\t\t\t\t\t\tdelatZ        : 0,\n\t\t\t\t\t\tpreventDefault: function () {\n\t\t\t\t\t\t\toriginalEvent.preventDefault ?\n\t\t\t\t\t\t\toriginalEvent.preventDefault() :\n\t\t\t\t\t\t\toriginalEvent.returnValue = false;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tnormalized    : normalizeWheel(originalEvent)\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\t// calculate deltaY (and deltaX) according to the event\n\t\t\t\t\tif ( support == \"mousewheel\" ) {\n\t\t\t\t\t\tevent.deltaY = -1 / 40 * originalEvent.wheelDelta;\n\t\t\t\t\t\t// Webkit also support wheelDeltaX\n\t\t\t\t\t\t//                            originalEvent.wheelDeltaX && ( event.deltaX = - 1/40 *\n\t\t\t\t\t\t// originalEvent.wheelDeltaX );\n\t\t\t\t\t}\n\t\t\t\t\telse if ( support == \"wheel\" && _dom.prefix == \"Moz\" ) {\n\t\t\t\t\t\tevent.deltaY = originalEvent.deltaY / 3;\n\t\t\t\t\t}\n\t\t\t\t\telse if ( support == \"wheel\" ) {\n\t\t\t\t\t\tevent.deltaY = originalEvent.deltaY / 100;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tevent.deltaY = originalEvent.deltaY;\n\t\t\t\t\t}\n\t\t\t\t\t//                        if (typeof originalEvent.wheelDeltaY !== 'number')\n\t\t\t\t\t//                            event.wheelDeltaY = originalEvent.deltaY/100;\n\t\t\t\t\t\n\t\t\t\t\t//                        event.wheelDelta = deltaY*120;\n\t\t\t\t\t\n\t\t\t\t\t// it's time to fire the callback\n\t\t\t\t\treturn callback.call(scope || this, event);\n\t\t\t\t\t\n\t\t\t\t}, useCapture || false);\n\t\t\t}\n\t\t\t\n\t\t\treturn addWheelListener;\n\t\t})(window, document),\n\t\trmWheelEvent : isBrowser && (function ( window, document ) {\n\t\t\t\n\t\t\tlet prefix = \"\", _rmEventListener, onwheel, support;\n\t\t\t\n\t\t\t// detect event model\n\t\t\tif ( addEventListener ) {\n\t\t\t\t_rmEventListener = \"removeEventListener\";\n\t\t\t}\n\t\t\telse {\n\t\t\t\t_rmEventListener = \"detachEvent\";\n\t\t\t\tprefix           = \"on\";\n\t\t\t}\n\t\t\t\n\t\t\t// detect available wheel event\n\t\t\tsupport = \"onwheel\" in document.createElement(\"div\") ? \"wheel\" : // Modern browsers support \"wheel\"\n\t\t\t          document.onmousewheel !== undefined ? \"mousewheel\" : // Webkit and IE support at least \"mousewheel\"\n\t\t\t          \"DOMMouseScroll\"; // let's assume that remaining browsers are older Firefox\n\t\t\t\n\t\t\tlet rmWheelListener = function ( elem, callback, scope, useCapture ) {\n\t\t\t\t_EventListener(elem, support, callback, scope, useCapture);\n\t\t\t\t\n\t\t\t\t// handle MozMousePixelScroll in older Firefox\n\t\t\t\tif ( support == \"DOMMouseScroll\" ) {\n\t\t\t\t\t_EventListener(elem, \"MozMousePixelScroll\", callback, scope, useCapture);\n\t\t\t\t}\n\t\t\t};\n\t\t\t\n\t\t\tfunction _EventListener( elem, eventName, callback, scope, useCapture ) {\n\t\t\t\telem[_rmEventListener](prefix + eventName, callback._wheelList);\n\t\t\t}\n\t\t\t\n\t\t\treturn rmWheelListener;\n\t\t})(window, document),\n\t\t\n\t\t\n\t\t/**\n\t\t * Find the react component that generate element dom node\n\t\t * @param element\n\t\t * @returns {[React.Component]}\n\t\t */\n\t\tfindReactParents( element ) {\n\t\t\tlet fiberNode, comps = [element];\n\t\t\tfor ( const key in element ) {\n\t\t\t\t\n\t\t\t\tif ( key.startsWith('__reactInternalInstance$') ) {\n\t\t\t\t\tfiberNode = element[key];\n\t\t\t\t\twhile ( fiberNode.return ) {\n\t\t\t\t\t\tif ( fiberNode.stateNode && !comps.includes(fiberNode.stateNode) )\n\t\t\t\t\t\t\tcomps.push(fiberNode.stateNode)\n\t\t\t\t\t\tfiberNode = fiberNode.return;\n\t\t\t\t\t}\n\t\t\t\t\treturn comps;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn element.parentNode && this.findReactParents(element.parentNode);\n\t\t}\n\t\t\n\t};\nexport default Dom;","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nconst\n\tis       = require('is'),\n\teasingFn = require('d3-ease'),\n\tsignOf   = function sign( x ) {\n\t\treturn typeof x === 'number' ? x ? x < 0 ? -1 : 1 : x === x ? x : NaN : NaN;\n\t},\n\tabs      = Math.abs,\n\tfloor    = Math.floor,\n\tround    = Math.round,\n\tmin      = Math.min,\n\tmax      = Math.max,\n\tfloatCut = ( v = 0 ) => v.toFixed(3),\n\t\n\tconsts   = {\n\t\tvelocityResetTm: 150,\n\t\tclickTm        : 250\n\t};\n\nexport function applyInertia( _ ) {\n\tlet velSign = signOf(_.lastVelocity);\n\t// calc momentum distance...\n\t// get nb loop needed to get vel < .05\n\t_.loopsTarget = floor(Math.log(.05 / abs(_.lastVelocity)) / Math.log(.9));\n\t\n\t// get velocity sum basing on nb loops needed\n\t_.loopsVelSum    = (Math.pow(.9, _.loopsTarget) - abs(_.lastVelocity)) / (.9 - 1);\n\t// deduce real dist of momentum\n\t_.targetDist     = (_.loopsVelSum * _.refFPS * velSign) / 1000 || 0;\n\t_.targetDuration = abs(_.loopsTarget * _.refFPS * velSign) || 0;\n}\n\nconst inertiaByNode = {\n\tnodes  : [],\n\tinertia: []\n};\n/**\n * Main inertia class\n * @class Caipi slideshow\n * @type {module.exports}\n */\nexport default class Inertia {\n\tstatic config = {\n\t\tbounds: true\n\t};\n\t\n\tconstructor( opt ) {\n\t\tlet _  = this._ = {};\n\t\t_.conf = {\n\t\t\t...this.constructor.config,\n\t\t\t...opt\n\t\t};\n\t\t\n\t\tthis.active           = false;\n\t\t_.pos                 = opt.value || 0;\n\t\t_.refFPS              = 16;\n\t\t_.min                 = opt.min || 0;\n\t\t_.max                 = opt.max || 0;\n\t\t_.currentStop         = 0;\n\t\t_.lastInertiaPos      = 0;\n\t\t_.stops               = _.conf.stops;\n\t\t_.wayPoints           = _.conf.wayPoints;\n\t\t_.inertiaFn           = easingFn.easePolyOut;\n\t\t_.targetWayPointIndex = 0;\n\t\t\n\t\tthis._detectCurrentSnap()\n\t\t\n\t}\n\t\n\tupdate( at = Date.now() ) {\n\t\tlet _ = this._, nextValue, loop;\n\t\tif ( !_.inertia ) {\n\t\t\tif ( _.conf.shouldLoop ) {\n\t\t\t\twhile ( (loop = _.conf.shouldLoop(_.pos)) ) {\n\t\t\t\t\tthis.teleport(loop);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn _.pos;\n\t\t}\n\t\tlet\n\t\t\tpos   = _.inertiaFn((at - _.inertiaStartTm) / _.targetDuration) * _.targetDist,\n\t\t\tdelta = pos - _.lastInertiaPos;\n\t\t\n\t\t_.lastInertiaPos = pos;\n\t\t\n\t\tif ( (at - _.inertiaStartTm) >= _.targetDuration ) {\n\t\t\t_.inertia        = this.active = false;\n\t\t\t_.lastInertiaPos = delta = 0;\n\t\t\t\n\t\t\tif ( _.targetWayPoint ) {\n\t\t\t\tdelta = _.targetWayPoint.at - _.pos;\n\t\t\t\t//console.log(\"snap done \", _.targetWayPoint, _.pos + delta);\n\t\t\t\t_.currentWayPoint      = _.targetWayPoint;\n\t\t\t\t_.currentWayPointIndex = _.targetWayPointIndex;\n\t\t\t\t_.targetWayPoint       = null;\n\t\t\t\t_.targetWayPointIndex  = null;\n\t\t\t\t//_.lastSnapTm           = Date.now();\n\t\t\t}\n\t\t\t\n\t\t\tif ( _.conf.onInertiaEnd ) {\n\t\t\t\t_.conf.onInertiaEnd(_.pos, _.currentWayPoint)\n\t\t\t}\n\t\t}\n\t\t\n\t\tdelta     = delta || 0;\n\t\t//console.log(_.pos + delta);\n\t\tnextValue = _.pos + delta;\n\t\t\n\t\tif ( _.conf.shouldLoop ) {\n\t\t\t\n\t\t\twhile ( (loop = _.conf.shouldLoop(nextValue)) ) {\n\t\t\t\t//console.warn(\"loop\", loop);\n\t\t\t\tnextValue += loop;\n\t\t\t\tthis.teleport(loop);\n\t\t\t}\n\t\t}\n\t\t\n\t\t_.pos = nextValue;\n\t\t\n\t\treturn nextValue;\n\t}\n\t\n\tsetPos( pos ) {\n\t\tlet _            = this._, nextValue;\n\t\t_.inertia        = false;\n\t\tthis.active      = false;\n\t\t_.lastInertiaPos = 0;\n\t\t_.targetDist     = 0;\n\t\t_.pos            = pos;\n\t\t//console.log(\"setPos\", pos);\n\t\tif ( _.conf.bounds ) {\n\t\t\t_.pos = max(_.pos, _.min);\n\t\t\t_.pos = min(_.pos, _.max);\n\t\t}\n\t}\n\t\n\tsetWayPoints( wayPoints ) {\n\t\tlet _       = this._, nextValue;\n\t\t_.wayPoints = wayPoints;\n\t\tthis._detectCurrentSnap();\n\t}\n\t\n\tteleport( loopDist ) {\n\t\tlet _ = this._, nextValue;\n\t\tif ( !_.inertia )\n\t\t\treturn _.pos += loopDist;\n\t\t\n\t\t_.lastInertiaPos += loopDist;\n\t\t_.pos += loopDist\n\t}\n\t\n\tdispatch( delta, tm = 500 ) {\n\t\tlet _   = this._,\n\t\t    now = Date.now(),\n\t\t    pos;\n\t\t\n\t\tthis.active = true;\n\t\t\n\t\t// if no inertia has started || if direction has change\n\t\tif ( !_.inertia || signOf(delta) !== signOf(_.targetDist) ) {\n\t\t\t_.inertia        = true;\n\t\t\t_.lastInertiaPos = 0;\n\t\t\t_.inertiaStartTm =\n\t\t\t\t_.inertiaLastTm = now;\n\t\t\t\n\t\t\t_.targetDist     = delta;\n\t\t\t_.targetDuration = tm;\n\t\t}\n\t\telse {\n\t\t\t_.inertiaStartTm =\n\t\t\t\t_.inertiaLastTm = now;\n\t\t\t_.lastInertiaPos = 0;\n\t\t\t_.targetDist += delta;\n\t\t\t_.targetDuration += tm;\n\t\t}\n\t\t//\n\t\t//if ( _.conf.maxJump ) {\n\t\t//\n\t\t//}\n\t\t\n\t\tif ( _.conf.bounds ) {\n\t\t\tif ( (_.pos + _.targetDist) > _.max ) {\n\t\t\t\t\n\t\t\t\t_.targetDist     = _.max - _.pos;\n\t\t\t\t_.targetDuration = abs(_.targetDist * 10);\n\t\t\t}\n\t\t\telse if ( (_.pos + _.targetDist) < _.min ) {\n\t\t\t\t\n\t\t\t\t_.targetDist     = _.min - _.pos;\n\t\t\t\t_.targetDuration = abs(_.targetDist * 10);\n\t\t\t}\n\t\t}\n\t\tthis._doSnap(signOf(delta), 750)\n\t}\n\t\n\tisOutbound( delta ) {\n\t\tlet _   = this._, loop,\n\t\t    pos = _.targetDist + (_.pos - (_.lastInertiaPos || 0)) + delta;\n\t\t//if ( _.conf.infinite ) return false;\n\t\t\n\t\tif ( _.conf.shouldLoop ) {\n\t\t\twhile ( (loop = _.conf.shouldLoop(nextValue)) ) {\n\t\t\t\t//console.warn(\"loop\", loop);\n\t\t\t\tpos += loop;\n\t\t\t}\n\t\t}\n\t\treturn pos > _.min && pos < _.max;\n\t}\n\t\n\t_detectCurrentSnap() {\n\t\tlet _   = this._,\n\t\t    pos = _.pos,\n\t\t    i;\n\t\t\n\t\tif ( _.wayPoints && _.wayPoints.length ) {\n\t\t\tfor ( i = 0; i < _.wayPoints.length; i++ )\n\t\t\t\tif ( floatCut(_.wayPoints[i].at) === floatCut(pos) ) {\n\t\t\t\t\t_.currentWayPoint      = _.wayPoints[i];\n\t\t\t\t\t_.currentWayPointIndex = i;\n\t\t\t\t\t//console.warn(\"snap set\", i);\n\t\t\t\t\t\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t}\n\t}\n\t\n\t_doSnap( forceSnap, maxDuration = 2000 ) {\n\t\tlet _   = this._,\n\t\t    pos = _.targetDist + (_.pos - (_.lastInertiaPos || 0)),\n\t\t    target,\n\t\t    mid,\n\t\t    i,\n\t\t    i2;\n\t\t\n\t\tif ( _.wayPoints && _.wayPoints.length ) {\n\t\t\tfor ( i = 0; i < _.wayPoints.length; i++ )\n\t\t\t\tif ( _.wayPoints[i].at > pos )\n\t\t\t\t\tbreak;\n\t\t\t\n\t\t\tif ( i === _.wayPoints.length ) {\n\t\t\t\ti--\n\t\t\t}\n\t\t\telse if ( i === 0 ) {\n\t\t\t\ti = 0;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tmid = _.wayPoints[i - 1].at + (_.wayPoints[i].at - _.wayPoints[i - 1].at) / 2;\n\t\t\t\tif ( forceSnap ) forceSnap < 0 && i--;\n\t\t\t\telse if ( pos < mid ) i--;\n\t\t\t}\n\t\t\t\n\t\t\tif ( _.conf.maxJump && is.number(_.currentWayPointIndex) ) {\n\t\t\t\tlet d = (i - _.currentWayPointIndex);\n\t\t\t\t//console.log('Inertia::_doSnap:154: ', i, d);\n\t\t\t\tif ( abs(d) > _.conf.maxJump ) {\n\t\t\t\t\t//console.log('max: ', i, d);\n\t\t\t\t\ti = _.currentWayPointIndex + signOf(d) * _.conf.maxJump;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttarget = _.wayPoints[i].at;\n\t\t\t\n\t\t\tif ( _.conf.willSnap ) {\n\t\t\t\t_.conf.willSnap(i, _.wayPoints[i]);\n\t\t\t}\n\t\t\t\n\t\t\t_.lastInertiaPos      = _.lastInertiaPos || 0;\n\t\t\ttarget                = target - (_.pos - _.lastInertiaPos);\n\t\t\t_.targetDuration      = max(50, min(maxDuration, abs((_.targetDuration / _.targetDist) * target))) || 0;\n\t\t\t//console.log(\"do snap\", i, target, _.targetDist, _.targetDuration);\n\t\t\t_.targetDist          = target;\n\t\t\t_.targetWayPoint      = _.wayPoints[i];\n\t\t\t_.targetWayPointIndex = i;\n\t\t}\n\t\telse {\n\t\t\ttarget = ~~(_.pos - _.lastInertiaPos);\n\t\t\t\n\t\t\tif ( !_.conf.infinite ) {\n\t\t\t\tif ( target > _.max ) {\n\t\t\t\t\ttarget           = _.max - target;\n\t\t\t\t\t_.targetDuration = min(maxDuration, abs((_.targetDuration / _.targetDist) * target));\n\t\t\t\t\t_.targetDist     = target;\n\t\t\t\t}\n\t\t\t\telse if ( target < _.min ) {\n\t\t\t\t\ttarget           = _.min - target;\n\t\t\t\t\t_.targetDuration = min(maxDuration, abs((_.targetDuration / _.targetDist) * target));\n\t\t\t\t\t_.targetDist     = target;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\t\n\tsetBounds( min, max ) {\n\t\tlet _ = this._;\n\t\t//console.log('Inertia::setBounds:245: ', min, max);\n\t\t_.min = min;\n\t\t_.max = max;\n\t}\n\t\n\tstartMove() {\n\t\tlet _          = this._;\n\t\t_.baseTS       = _.startTS = Date.now() / 1000;\n\t\t_.lastVelocity = _.lastIVelocity = 0;\n\t\t_.lastAccel    = 0;\n\t\t_.posDiff      = 0;\n\t\tthis.active    = true;\n\t\tthis.holding   = true;\n\t\t_.inertia      = false;\n\t}\n\t\n\thold( pos ) {\n\t\tlet _ = this._,\n\t\t    loop;\n\t\tif ( _.conf.shouldLoop ) {\n\t\t\twhile ( (loop = _.conf.shouldLoop(pos)) ) {\n\t\t\t\t//console.warn(\"loop\", loop);\n\t\t\t\tpos += loop;\n\t\t\t}\n\t\t\twhile ( (loop = _.conf.shouldLoop(_.pos)) ) {\n\t\t\t\t//console.warn(\"loop\", loop);\n\t\t\t\t_.pos += loop;\n\t\t\t}\n\t\t}\n\t\tlet now          = Date.now() / 1000,//e.timeStamp,\n\t\t    sinceLastPos = (now - _.baseTS),\n\t\t    delta        = pos - _.pos,\n\t\t    iVel         = delta / sinceLastPos;\n\t\t//if (is.nan(pos))\n\t\t//\tdebugger\n\t\t//console.log(\"hold\", pos, _.pos);\n\t\t_.lastIVelocity = iVel;\n\t\t_.lastVelocity  = iVel;\n\t\t_.baseTS        = now;\n\t\t\n\t\t// clear snap\n\t\t_.targetWayPoint      = undefined;\n\t\t_.targetWayPointIndex = undefined;\n\t\t\n\t\tif ( _.conf.bounds ) {\n\t\t\tif ( pos > _.max ) {\n\t\t\t\tpos = _.max + min((pos - _.max) / 10, 10);\n\t\t\t}\n\t\t\telse if ( pos < _.min ) {\n\t\t\t\tpos = _.min - min((_.min - pos) / 10, 10);\n\t\t\t}\n\t\t}\n\t\t\n\t\t_.pos = pos;\n\t\t\n\t}\n\t\n\trelease() {\n\t\tlet _        = this._,\n\t\t    velSign  = signOf(_.lastVelocity);\n\t\tthis.holding = false;\n\t\t// calc momentum distance...\n\t\tapplyInertia(_);\n\t\t\n\t\tif ( _.conf.bounds ) {\n\t\t\tif ( (_.pos + _.targetDist) > _.max ) {\n\t\t\t\t\n\t\t\t\t_.targetDist     = _.max - _.pos;\n\t\t\t\t_.targetDuration = abs(_.targetDist * 10);\n\t\t\t}\n\t\t\telse if ( (_.pos + _.targetDist) < _.min ) {\n\t\t\t\t\n\t\t\t\t_.targetDist     = _.min - _.pos;\n\t\t\t\t_.targetDuration = abs(_.targetDist * 10);\n\t\t\t}\n\t\t}\n\t\t//else {\n\t\tif ( !_.targetDuration )\n\t\t\t_.targetDuration = 50;\n\t\t\n\t\t//console.log(_);\n\t\tthis.active      = true;\n\t\t_.inertia        = true;\n\t\t_.lastInertiaPos = 0;\n\t\t_.inertiaStartTm =\n\t\t\t_.inertiaLastTm = Date.now();\n\t\t//}\n\t\tthis._doSnap(null, 500)\n\t}\n}\n","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport * as easingFn                     from \"d3-ease\";\nimport deepEqual                         from \"fast-deep-equal\";\nimport is                                from \"is\";\nimport React                             from \"react\";\nimport ReactDom                          from \"react-dom\";\nimport tweenAxis                         from \"tween-axis\";\nimport TweenerContext                    from \"../comps/TweenerContext\";\nimport {deMuxLine, deMuxTween, muxToCss} from \"../utils/css\";\nimport domUtils                          from \"../utils/dom\";\nimport Inertia                           from '../utils/inertia';\n\n/**\n * @todo : clean & comments\n */\n\n\nlet isBrowserSide           = (new Function(\"try {return this===window;}catch(e){ return false;}\"))(),\n    isArray                 = is.array,\n    _live, lastTm, _running = [];\n\nconst SimpleObjectProto = ({}).constructor;\n\nconst Runner = {\n\trun  : function ( tl, ctx, duration, cb ) {\n\t\tlet apply = ( pos, size ) => tl.go(pos / size, ctx);\n\t\t_running.push({ apply, duration, cpos: 0, cb });\n\t\ttl.go(0, ctx, true);//reset tl\n\t\t\n\t\tif ( !_live ) {\n\t\t\t_live  = true;\n\t\t\tlastTm = Date.now();\n\t\t\t// console.log(\"TL runner On\");\n\t\t\tsetTimeout(this._tick, 16);\n\t\t}\n\t},\n\t_tick: function _tick() {\n\t\tlet i  = 0, o, tm = Date.now(), delta = tm - lastTm;\n\t\tlastTm = tm;\n\t\tfor ( ; i < _running.length; i++ ) {\n\t\t\t_running[i].cpos = Math.min(delta + _running[i].cpos, _running[i].duration);//cpos\n\t\t\t_running[i].apply(\n\t\t\t\t_running[i].cpos, _running[i].duration\n\t\t\t);\n\t\t\t// console.log(\"TL runner \",_running[i][3]);\n\t\t\tif ( _running[i].cpos == _running[i].duration ) {\n\t\t\t\t\n\t\t\t\t_running[i].cb && setTimeout(_running[i].cb);\n\t\t\t\t_running.splice(i, 1), i--;\n\t\t\t}\n\t\t\t\n\t\t}\n\t\tif ( _running.length )\n\t\t\tsetTimeout(_tick, 16);\n\t\telse {\n\t\t\t// console.log(\"TL runner Off\");\n\t\t\t_live = false;\n\t\t}\n\t},\n};\n\n\n/**\n * asTweener decorator\n * @param argz\n * @returns {*}\n */\nexport default function asTweener( ...argz ) {\n\t\n\tlet BaseComponent = (!argz[0] || argz[0].prototype instanceof React.Component || argz[0] === React.Component) && argz.shift(),\n\t    opts          = (!argz[0] || argz[0] instanceof SimpleObjectProto) && argz.shift() || {};\n\t\n\tif ( !BaseComponent ) {\n\t\treturn function ( BaseComponent ) {\n\t\t\treturn asTweener(BaseComponent, opts)\n\t\t}\n\t}\n\t\n\topts = {\n\t\twheelRatio    : 5,\n\t\tmaxClickTm    : 200,\n\t\tmaxClickOffset: 50,\n\t\t...opts,\n\t\t\n\t};\n\t\n\tclass TweenableComp extends React.Component {\n\t\tstatic displayName = String.fromCharCode(0xD83E, 0xDDD9) + (BaseComponent.displayName || BaseComponent.name);// mage\n\t\t\n\t\tconstructor() {\n\t\t\tsuper(...arguments);\n\t\t\tthis._           = {\n\t\t\t\trefs       : {},\n\t\t\t\tmuxByTarget: {},\n\t\t\t};\n\t\t\tthis._.box       = {\n\t\t\t\tx: 100,\n\t\t\t\ty: 100,\n\t\t\t\tz: 800\n\t\t\t};\n\t\t\tthis._._rafLoop  = this._rafLoop.bind(this);\n\t\t\tthis.__isTweener = true;\n\t\t\tthis._.rootRef   = this.props.forwardedRef || React.createRef();\n\t\t}\n\t\t\n\t\t// ------------------------------------------------------------\n\t\t// -------------------- TweenRefs utils -----------------------\n\t\t// ------------------------------------------------------------\n\t\t\n\t\t/**\n\t\t * Register tweenable element\n\t\t * return its current style\n\t\t * @param id\n\t\t * @param iStyle\n\t\t * @param iMap\n\t\t * @param pos\n\t\t * @param noref\n\t\t * @param mapReset\n\t\t * @returns {style,ref}\n\t\t */\n\t\ttweenRef( id, iStyle, iMap, pos, noref, mapReset ) {// ref initial style\n\t\t\tthis.makeTweenable();\n\t\t\t\n\t\t\tlet _            = this._,\n\t\t\t    tweenableMap = {};\n\t\t\t\n\t\t\tlet initials = {};\n\t\t\tif ( !_.tweenRefs[id] )\n\t\t\t\t_.tweenRefTargets.push(id);\n\t\t\t\n\t\t\t//debugger\n\t\t\tif ( _.tweenRefs[id] && (\n\t\t\t\tmapReset\n\t\t\t\t|| (_.iMapOrigin[id] !== iMap && !deepEqual(iMap, _.iMapOrigin[id]))\n\t\t\t\t|| (_.tweenRefOriginCss[id] !== iStyle && !deepEqual(iStyle, _.tweenRefOriginCss[id]))\n\t\t\t) ) {\n\t\t\t\t// hot switch initial values\n\t\t\t\t//console.warn('ref exist & style is !==', deepEqual(iMap, _.iMapOrigin[id]), deepEqual(iStyle, _.tweenRefOriginCss[id]), mapReset)\n\t\t\t\t_.iMapOrigin[id]        = iMap;\n\t\t\t\t_.tweenRefOriginCss[id] = iStyle;\n\t\t\t\tiStyle                  = iStyle || {};\n\t\t\t\tiMap                    = iMap || {};\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t//if ( _.tweenRefCSS[id] && mapReset ) {\n\t\t\t\t//\t_.muxByTarget[id]     = {};\n\t\t\t\t//\t_.muxDataByTarget[id] = {};\n\t\t\t\t//\n\t\t\t\t//\tObject.keys(_.tweenRefCSS[id])// unset\n\t\t\t\t//\t      .forEach(\n\t\t\t\t//\t\t      key => (iStyle[key] = iStyle[key] || '')\n\t\t\t\t//\t      );\n\t\t\t\t//\t_.tweenRefMaps[id] = tweenableMap = { ..._.tweenRefOrigin[id] };\n\t\t\t\t//\tiStyle             = {\n\t\t\t\t//\t\t...iStyle, ...deMuxTween(iMap, tweenableMap, initials,\n\t\t\t\t//\t\t                         _.muxDataByTarget[id], _.muxByTarget[id], true)\n\t\t\t\t//\t};\n\t\t\t\t//\tObject.assign(_.tweenRefCSS[id], _.tweenRefOriginCss[id]);\n\t\t\t\t//}\n\t\t\t\t//else {\n\t\t\t\t//_.muxByTarget[id] = {};\n\t\t\t\t\n\t\t\t\t// should reset only a part of.. complex\n\t\t\t\t//_.muxDataByTarget[id] = {};\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tiStyle = { ...iStyle, ...deMuxTween(iMap, tweenableMap, initials, _.muxDataByTarget[id], _.muxByTarget[id], true, true) };\n\t\t\t\t// minus initial values\n\t\t\t\tObject.keys(_.tweenRefOrigin[id])\n\t\t\t\t      .forEach(\n\t\t\t\t\t      key => (_.tweenRefMaps[id][key] -= _.tweenRefOrigin[id][key])\n\t\t\t\t      );\n\t\t\t\t// set defaults values in case of\n\t\t\t\tObject.keys(initials)\n\t\t\t\t      .forEach(\n\t\t\t\t\t      key => (_.tweenRefMaps[id][key] = is.number(_.tweenRefMaps[id][key])\n\t\t\t\t\t                                        ? _.tweenRefMaps[id][key]\n\t\t\t\t\t                                        : initials[key])\n\t\t\t\t      );\n\t\t\t\t// add new initial values\n\t\t\t\tObject.keys(tweenableMap)\n\t\t\t\t      .forEach(\n\t\t\t\t\t      key => (_.tweenRefMaps[id][key] += tweenableMap[key])\n\t\t\t\t      );\n\t\t\t\t\n\t\t\t\tObject.keys(_.tweenRefMaps[id])// unset\n\t\t\t\t      .forEach(\n\t\t\t\t\t      key => {\n\t\t\t\t\t\t      //key == \"width\" &&\n\t\t\t\t\t\t      if ( _.tweenRefOrigin[id].hasOwnProperty(key) && !tweenableMap.hasOwnProperty(key) ) {\n\t\t\t\t\t\t\t      let rKey = _.muxDataByTarget[id][key] || key;\n\t\t\t\t\t\t\t      delete _.tweenRefMaps[id][rKey];\n\t\t\t\t\t\t\t      delete _.muxByTarget[id][rKey];\n\t\t\t\t\t\t\t      _.refs[id] && _.refs[id].style && (_.refs[id].style[rKey] = null);\n\t\t\t\t\t\t\t      delete iStyle[rKey];\n\t\t\t\t\t\t\t      delete _.tweenRefCSS[id][rKey];\n\t\t\t\t\t\t\t      //console.log(id, key, _.muxDataByTarget[id][key], _.refs[id] &&\n\t\t\t\t\t\t\t      // _.refs[id].style[rKey])\n\t\t\t\t\t\t      }\n\t\t\t\t\t      }\n\t\t\t\t      );\n\t\t\t\t_.tweenRefOrigin[id] = { ...tweenableMap };\n\t\t\t\t//_.tweenRefOriginCss[id] = { ...iStyle };\n\t\t\t\t//}\n\t\t\t\t\n\t\t\t\t//let newCss        = {};\n\t\t\t\t//_.tweenRefMaps[t] = { ..._.tweenRefOrigin[t] };\n\t\t\t\t\n\t\t\t\tmuxToCss(_.tweenRefMaps[id], _.tweenRefCSS[id], _.muxByTarget[id], _.muxDataByTarget[id], _.box);\n\t\t\t}\n\t\t\telse if ( !_.tweenRefs[id] ) {\n\t\t\t\t_.iMapOrigin[id] = iMap;\n\t\t\t\tiStyle           = iStyle || {};\n\t\t\t\tiMap             = iMap || {};\n\t\t\t\t\n\t\t\t\t_.tweenRefs[id]       = true;\n\t\t\t\t_.muxByTarget[id]     = _.muxByTarget[id] || {};\n\t\t\t\t_.muxDataByTarget[id] = _.muxDataByTarget[id] || {};\n\t\t\t\t\n\t\t\t\t_.tweenRefOriginCss[id] = iStyle;\n\t\t\t\t\n\t\t\t\tiStyle = { ...iStyle, ...deMuxTween(iMap, tweenableMap, initials, _.muxDataByTarget[id], _.muxByTarget[id], true) };\n\t\t\t\t//_.tweenRefUnits[id] = extractUnits(iMap);\n\t\t\t\t//}\n\t\t\t\t_.tweenRefOrigin[id] = tweenableMap;\n\t\t\t\t_.tweenRefCSS[id]    = iStyle;\n\t\t\t\t_.tweenRefMaps[id]   = _.tweenRefMaps[id] || {};\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t// if this ref was initialized by its scroll anims we minus initial values\n\t\t\t\tObject.keys(tweenableMap)\n\t\t\t\t      .forEach(\n\t\t\t\t\t      key => {\n\t\t\t\t\t\t      if ( _.tweenRefMaps[id].hasOwnProperty(key) )\n\t\t\t\t\t\t\t      _.tweenRefMaps[id][key] -= initials[key];\n\t\t\t\t\t      }\n\t\t\t\t      );\n\t\t\t\t//\n\t\t\t\t// init / reset or get the tweenable view\n\t\t\t\ttweenableMap = Object.assign({}, initials, tweenableMap || {});\n\t\t\t\t// set defaults values in case of\n\t\t\t\t// add new initial values\n\t\t\t\tObject.keys(tweenableMap)\n\t\t\t\t      .forEach(\n\t\t\t\t\t      key => (_.tweenRefMaps[id][key] = (_.tweenRefMaps[id][key] || 0) + tweenableMap[key])\n\t\t\t\t      );\n\t\t\t\ttweenableMap = _.tweenRefMaps[id];\n\t\t\t\tmuxToCss(tweenableMap, iStyle, _.muxByTarget[id], _.muxDataByTarget[id], _.box);\n\t\t\t\t\n\t\t\t}\n\t\t\t//console.log('tweenRef::tweenRef:519: ', id, { ..._.tweenRefCSS[id] }, { ...tweenableMap });\n\t\t\tif ( noref )\n\t\t\t\treturn {\n\t\t\t\t\tstyle: { ..._.tweenRefCSS[id] }\n\t\t\t\t};\n\t\t\telse\n\t\t\t\treturn {\n\t\t\t\t\tstyle: { ..._.tweenRefCSS[id] },\n\t\t\t\t\tref  : node => (_.refs[id] = node)\n\t\t\t\t\t//,\n\t\t\t\t\t// __tweenMap : this._.tweenRefMaps[id],\n\t\t\t\t\t// __tweenCSS : this._.tweenRefCSS[id]\n\t\t\t\t};\n\t\t}\n\t\t\n\t\t/**\n\t\t * Delete tweenable element\n\t\t * @param id\n\t\t */\n\t\trmTweenRef( id ) {\n\t\t\tif ( this._.tweenRefs[id] ) {\n\t\t\t\tthis._.tweenRefTargets.splice(this._.tweenRefTargets.indexOf(id), 1);\n\t\t\t\tdelete this._.tweenRefs[id];\n\t\t\t\tdelete this._.muxByTarget[id];\n\t\t\t\tdelete this._.muxDataByTarget[id];\n\t\t\t\tdelete this._.iMapOrigin[id];\n\t\t\t\tdelete this._.tweenRefOrigin[id];\n\t\t\t\tdelete this._.tweenRefCSS[id];\n\t\t\t\tdelete this._.tweenRefMaps[id];\n\t\t\t\tdelete this._.refs[id];\n\t\t\t}\n\t\t}\n\t\t\n\t\t/**\n\t\t * Reset tweenRefs\n\t\t * @param targets\n\t\t */\n\t\tresetTweenable( ...targets ) {\n\t\t\tlet _ = this._;\n\t\t\ttargets.forEach(\n\t\t\t\t( t ) => {\n\t\t\t\t\tthis.tweenRef(t, _.tweenRefOriginCss[t], _.iMapOrigin[t], null, null, true)\n\t\t\t\t}\n\t\t\t);\n\t\t\tthis._updateTweenRefs();\n\t\t}\n\t\t\n\t\t/**\n\t\t * Update tweenRefs style ( anims & axis will still update the ref )\n\t\t * @param target\n\t\t * @param style\n\t\t * @param postPone\n\t\t * @returns {*}\n\t\t */\n\t\tupdateRefStyle( target, style, postPone ) {\n\t\t\tlet _ = this._, initials = {};\n\t\t\tif ( isArray(target) && isArray(style) )\n\t\t\t\treturn target.map(( m, i ) => this.updateRefStyle(m, style[i], postPone));\n\t\t\tif ( isArray(target) )\n\t\t\t\treturn target.map(( m ) => this.updateRefStyle(m, style, postPone));\n\t\t\t\n\t\t\tif ( !this._.tweenRefCSS )\n\t\t\t\tthis.makeTweenable();\n\t\t\t\n\t\t\tdeMuxTween(style, _.tweenRefMaps[target], initials, _.muxDataByTarget[target], _.muxByTarget[target], true);\n\t\t\tthis._updateTweenRef(target);\n\t\t}\n\t\t\n\t\t/**\n\t\t * Retrieve the tween ref dom node\n\t\t * @param id\n\t\t * @returns {*}\n\t\t */\n\t\tgetTweenableRef( id ) {\n\t\t\treturn this._.refs[id] && ReactDom.findDOMNode(this._.refs[id]);\n\t\t}\n\t\t\n\t\t/**\n\t\t * Get the root dom node of the tweener element\n\t\t * @returns {*}\n\t\t */\n\t\tgetRootNode() {\n\t\t\treturn this._.rootRef && this.getTweenableRef(this._.rootRef) || ReactDom.findDOMNode(this);\n\t\t}\n\t\t\n\t\t// ------------------------------------------------------------\n\t\t// -------------------- Pushable anims ------------------------\n\t\t// ------------------------------------------------------------\n\t\t\n\t\t/**\n\t\t * Push anims\n\t\t * @param anim\n\t\t * @param then\n\t\t * @param skipInit\n\t\t * @returns {tweenAxis}\n\t\t */\n\t\tpushAnim( anim, then, skipInit ) {\n\t\t\tlet sl, initial, muxed, initials = {}, fail;\n\t\t\tif ( isArray(anim) ) {\n\t\t\t\tsl = anim;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsl      = anim.anims;\n\t\t\t\tinitial = anim.initial;\n\t\t\t}\n\t\t\t\n\t\t\tif ( !(sl instanceof tweenAxis) ) {\n\t\t\t\t// tweenLine, initials, data, demuxers\n\t\t\t\tsl = deMuxLine(sl, initials, this._.muxDataByTarget, this._.muxByTarget);\n\t\t\t\tsl = new tweenAxis(sl, this._.tweenRefMaps);\n\t\t\t\tObject.keys(initials)\n\t\t\t\t      .forEach(\n\t\t\t\t\t      id => (\n\t\t\t\t\t\t      this._.tweenRefMaps[id] &&\n\t\t\t\t\t\t      Object.assign(this._.tweenRefMaps[id], {\n\t\t\t\t\t\t\t      ...initials[id],\n\t\t\t\t\t\t\t      ...this._.tweenRefMaps[id]\n\t\t\t\t\t\t      }) || (fail = console.warn(\"react-voodoo : Can't find tween target \", id, \" in \", TweenableComp.displayName) || true)\n\t\t\t\t\t      )\n\t\t\t\t      )\n\t\t\t}\n\t\t\tif ( fail )\n\t\t\t\treturn;\n\t\t\t\n\t\t\tthis.makeTweenable();\n\t\t\t\n\t\t\treturn new Promise(\n\t\t\t\tresolve => {\n\t\t\t\t\t\n\t\t\t\t\t!skipInit && initial && Object.keys(initial).map(\n\t\t\t\t\t\t( id ) => this.applyTweenState(id, initial[id], anim.reset)\n\t\t\t\t\t);\n\t\t\t\t\t\n\t\t\t\t\t// start timer launch @todo\n\t\t\t\t\tsl.run(this._.tweenRefMaps, () => {\n\t\t\t\t\t\tlet i = this._.runningAnims.indexOf(sl);\n\t\t\t\t\t\tif ( i != -1 )\n\t\t\t\t\t\t\tthis._.runningAnims.splice(i, 1);\n\t\t\t\t\t\t\n\t\t\t\t\t\tsl.destroy();\n\t\t\t\t\t\tresolve(sl);\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tthis._.runningAnims.push(sl);\n\t\t\t\t\t\n\t\t\t\t\tif ( !this._.live ) {\n\t\t\t\t\t\tthis._.live = true;\n\t\t\t\t\t\trequestAnimationFrame(this._._rafLoop = this._._rafLoop || this._rafLoop.bind(this));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t).then(sl => (then && then(sl)));\n\t\t\t\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Update tweenRef raw tweened values\n\t\t * @param id\n\t\t * @param map\n\t\t * @param reset\n\t\t */\n\t\tapplyTweenState( id, map, reset ) {\n\t\t\tlet tmap = {}, initials = {};\n\t\t\tdeMuxTween(map, tmap, initials, this._.muxDataByTarget[id], this._.muxByTarget[id])\n\t\t\tObject.keys(tmap).map(\n\t\t\t\t( p ) => this._.tweenRefMaps[id][p] = (!reset && this._.tweenRefMaps[id][p] || initials[p]) + tmap[p]\n\t\t\t);\n\t\t}\n\t\t\n\t\t// ------------------------------------------------------------\n\t\t// ------------------ Scrollable axes -------------------------\n\t\t// ------------------------------------------------------------\n\t\t\n\t\t/**\n\t\t * Will init / update a scrollable axis\n\t\t * @param axe\n\t\t * @param _inertia\n\t\t * @param _scrollableArea\n\t\t * @param _scrollableBounds\n\t\t * @param _scrollableWindow\n\t\t * @param defaultPosition\n\t\t * @param scrollFirst\n\t\t * @param reset\n\t\t */\n\t\tinitAxis( axe, { inertia: _inertia, scrollableArea: _scrollableArea = 0, scrollableBounds: _scrollableBounds, scrollableWindow: _scrollableWindow, defaultPosition, scrollFirst }, reset ) {\n\t\t\tthis.makeTweenable();\n\t\t\tthis.makeScrollable();\n\t\t\tlet _                = this._,\n\t\t\t    dim              = _.axes[axe],\n\t\t\t    scrollableBounds = _scrollableBounds,\n\t\t\t    scrollPos        = !reset && dim\n\t\t\t                       ? dim.scrollPos\n\t\t\t                       : defaultPosition || scrollableBounds && scrollableBounds.min || 0,\n\t\t\t    scrollableArea   = Math.max(dim && dim.scrollableArea || 0, _scrollableArea),\n\t\t\t    scrollableWindow = Math.max(dim && dim.scrollableWindow || 0, _scrollableWindow),\n\t\t\t    targetPos        = dim ? dim.targetPos : scrollPos,\n\t\t\t    inertia          = _inertia !== false && (\n\t\t\t\t    dim ? dim.inertia : new Inertia({// todo mk pure\n\t\t\t\t\t                                    ...(_inertia || {}),\n\t\t\t\t\t                                    value: scrollPos\n\t\t\t\t                                    })),\n\t\t\t    nextDescr        = {\n\t\t\t\t    //...(_inertia || {}),\n\t\t\t\t    scrollFirst,\n\t\t\t\t    tweenAxis: dim && dim.tweenAxis || [],\n\t\t\t\t    scrollPos,\n\t\t\t\t    targetPos,\n\t\t\t\t    inertia,\n\t\t\t\t    scrollableWindow,\n\t\t\t\t    scrollableBounds,\n\t\t\t\t    scrollableArea\n\t\t\t    };\n\t\t\t\n\t\t\tthis._.axes[axe] = nextDescr;\n\t\t\t(_inertia) && inertia && (inertia._.wayPoints = _inertia.wayPoints);\n\t\t\t(_inertia) && inertia && !inertia.active && (inertia._.pos = scrollPos);\n\t\t\tif ( inertia && scrollableBounds )\n\t\t\t\tinertia.setBounds(scrollableBounds.min, scrollableBounds.max);\n\t\t\telse\n\t\t\t\tinertia && inertia.setBounds(0, scrollableArea)\n\t\t}\n\t\t\n\t\t_getAxis( axe = \"scrollY\" ) {\n\t\t\tlet _ = this._;\n\t\t\t\n\t\t\t_.axes[axe] = _.axes[axe] || {\n\t\t\t\ttweenAxis       : [],\n\t\t\t\tscrollPos       : opts.initialScrollPos && opts.initialScrollPos[axe] || 0,\n\t\t\t\ttargetPos       : 0,\n\t\t\t\tscrollableWindow: 0,\n\t\t\t\tscrollableArea  : 0,\n\t\t\t\tinertia         : new Inertia({\n\t\t\t\t\t                              value: opts.initialScrollPos && opts.initialScrollPos[axe] || 0,\n\t\t\t\t\t                              ...(opts.axes && opts.axes[axe] && opts.axes[axe].inertia || {})\n\t\t\t\t                              }),\n\t\t\t};\n\t\t\t\n\t\t\treturn _.axes[axe];\n\t\t}\n\t\t\n\t\t/**\n\t\t * Return axis infos\n\t\t */\n\t\tgetAxisState( axe ) {\n\t\t\tlet _ = this._, state = {};\n\t\t\t_.axes && Object.keys(_.axes)\n\t\t\t                .forEach(\n\t\t\t\t                axe => (state[axe] = _.axes[axe].targetPos || _.axes[axe].scrollPos)\n\t\t\t                );\n\t\t\treturn state;\n\t\t}\n\t\t\n\t\t/**\n\t\t * Do scroll an axis\n\t\t * @param newPos\n\t\t * @param ms\n\t\t * @param axe\n\t\t * @param ease\n\t\t * @returns {Promise<any | never>}\n\t\t */\n\t\tscrollTo( newPos, ms = 0, axe = \"scrollY\", ease ) {\n\t\t\tlet _ = this._;\n\t\t\treturn new Promise(\n\t\t\t\t(( resolve, reject ) => {\n\t\t\t\t\tif ( _.axes && _.axes[axe] ) {\n\t\t\t\t\t\tlet oldPos = _.axes[axe].targetPos,\n\t\t\t\t\t\t    setPos = pos => {\n\t\t\t\t\t\t\t    pos                   = (~~(pos * 10000)) / 10000;\n\t\t\t\t\t\t\t    //console.log('TweenableComp::setPos:514: ', this.constructor.displayName);\n\t\t\t\t\t\t\t    _.axes[axe].targetPos = _.axes[axe].scrollPos = pos;\n\t\t\t\t\t\t\t    if ( _.axes[axe].inertia ) {\n\t\t\t\t\t\t\t\t    _.axes[axe].inertia.setPos(pos);\n\t\t\t\t\t\t\t\t    //_.axes[axe].inertia._doSnap()\n\t\t\t\t\t\t\t    }\n\t\t\t\t\t\t\t    _.rootRef &&\n\t\t\t\t\t\t\t    _.rootRef.current &&\n\t\t\t\t\t\t\t    _.rootRef.current.componentDidScroll &&\n\t\t\t\t\t\t\t    _.rootRef.current.componentDidScroll(~~pos, axe);\n\t\t\t\t\t\t\t    this._updateTweenRefs()\n\t\t\t\t\t\t    }\n\t\t\t\t\t\t;\n\t\t\t\t\t\t\n\t\t\t\t\t\tnewPos                = Math.max(0, newPos);\n\t\t\t\t\t\tnewPos                = Math.min(newPos, _.axes[axe].scrollableArea || 0);\n\t\t\t\t\t\t_.axes[axe].targetPos = newPos;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif ( !ms ) {\n\t\t\t\t\t\t\t_.axes[axe].tweenAxis.forEach(\n\t\t\t\t\t\t\t\tsl => sl.goTo(newPos, _.tweenRefMaps)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tsetPos(newPos);\n\t\t\t\t\t\t\tresolve()\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tthis._runScrollGoTo(axe, newPos, ms, easingFn[ease], setPos, resolve)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif ( !_.live ) {\n\t\t\t\t\t\t\t_.live = true;\n\t\t\t\t\t\t\trequestAnimationFrame(_._rafLoop);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})).then(\n\t\t\t\tp => {\n\t\t\t\t\tif ( _.axes[axe].inertia ) {\n\t\t\t\t\t\t_.axes[axe].inertia._detectCurrentSnap();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\t\t}\n\t\t\n\t\t/**\n\t\t * Add scrollable tween axis (scrollable anims) to a global axis\n\t\t * @param anim\n\t\t * @param axe\n\t\t * @param size\n\t\t * @returns {tweenAxis}\n\t\t */\n\t\taddScrollableAnim( anim, axe = \"scrollY\", size ) {\n\t\t\tlet sl,\n\t\t\t    _        = this._,\n\t\t\t    initials = {},\n\t\t\t    dim      = this._getAxis(axe);\n\t\t\t\n\t\t\tif ( isArray(anim) ) {\n\t\t\t\tsl = anim;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsl   = anim.anims;\n\t\t\t\tsize = anim.length;\n\t\t\t}\n\t\t\t\n\t\t\tif ( !(sl instanceof tweenAxis) ) {\n\t\t\t\tsl = deMuxLine(sl, initials, this._.muxDataByTarget, this._.muxByTarget);\n\t\t\t\tsl = new tweenAxis(sl, _.tweenRefMaps);\n\t\t\t\tObject.keys(initials)\n\t\t\t\t      .forEach(\n\t\t\t\t\t      id => {\n\t\t\t\t\t\t      this._.tweenRefMaps[id] = this._.tweenRefMaps[id] || {},\n\t\t\t\t\t\t\t      Object.assign(this._.tweenRefMaps[id], {\n\t\t\t\t\t\t\t\t      ...initials[id],\n\t\t\t\t\t\t\t\t      ...this._.tweenRefMaps[id]\n\t\t\t\t\t\t\t      })\n\t\t\t\t\t      }\n\t\t\t\t      )\n\t\t\t}\n\t\t\t\n\t\t\tthis.makeTweenable();\n\t\t\tthis.makeScrollable();\n\t\t\t\n\t\t\t// init scroll\n\t\t\tdim.tweenAxis.push(sl);\n\t\t\tdim.scrollPos      = dim.scrollPos || 0;\n\t\t\tdim.scrollableArea = dim.scrollableArea || 0;\n\t\t\tdim.scrollableArea = Math.max(dim.scrollableArea, sl.duration);\n\t\t\tif ( !dim.scrollableBounds )\n\t\t\t\tdim.inertia.setBounds(0, dim.scrollableArea);\n\t\t\tsl.goTo(dim.scrollPos, this._.tweenRefMaps);\n\t\t\tthis._updateTweenRefs();\n\t\t\treturn sl;\n\t\t}\n\t\t\n\t\t/**\n\t\t * Remove a tweenAxis object from a component scrollable axis\n\t\t * @param sl\n\t\t * @param axe\n\t\t */\n\t\trmScrollableAnim( sl, axe = \"scrollY\" ) {\n\t\t\tlet _   = this._, found,\n\t\t\t    dim = this._getAxis(axe), twAxis;\n\t\t\tlet i   = dim.tweenAxis.indexOf(sl);\n\t\t\tif ( i != -1 ) {\n\t\t\t\tdim.tweenAxis[i].destroy();\n\t\t\t\tdim.tweenAxis.splice(i, 1);\n\t\t\t\tdim.scrollableArea = Math.max(...dim.tweenAxis.map(tl => tl.duration), 0);\n\t\t\t\tif ( !dim.scrollableBounds )\n\t\t\t\t\tdim.inertia.setBounds(0, dim.scrollableArea || 0);\n\t\t\t\tsl.goTo(0, this._.tweenRefMaps)\n\t\t\t\tfound = true;\n\t\t\t}\n\t\t\t!found && console.warn(\"TweenAxis not found !\")\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * @private fn to push scrollTo\n\t\t * @param axe\n\t\t * @param to\n\t\t * @param tm\n\t\t * @param easing\n\t\t * @param tick\n\t\t * @param cb\n\t\t * @private\n\t\t */\n\t\t_runScrollGoTo( axe, to, tm, easing = x => x, tick, cb ) {\n\t\t\tlet from   = this._.axes[axe].scrollPos,\n\t\t\t    length = to - from;\n\t\t\t\n\t\t\t_running.push(\n\t\t\t\t{\n\t\t\t\t\tapply   : ( pos, max ) => {\n\t\t\t\t\t\tlet x = (from + (easing(pos / max)) * length);\n\t\t\t\t\t\tif ( this._.tweenEnabled ) {\n\t\t\t\t\t\t\t//console.log('TweenableComp::setPos:514: ', x);\n\t\t\t\t\t\t\tthis._.axes[axe].tweenAxis.forEach(\n\t\t\t\t\t\t\t\tsl => sl.goTo(x, this._.tweenRefMaps)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\ttick && tick(x);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tduration: tm,\n\t\t\t\t\tcpos    : 0,\n\t\t\t\t\tcb\n\t\t\t\t})\n\t\t\t;\n\t\t\t\n\t\t\tif ( !_live ) {\n\t\t\t\t_live  = true;\n\t\t\t\tlastTm = Date.now();\n\t\t\t\t// console.log(\"TL runner On\");\n\t\t\t\tsetTimeout(Runner._tick, 16);\n\t\t\t}\n\t\t}\n\t\t\n\t\t/**\n\t\t * Return scrollable parent node list basing a dom node\n\t\t * @param node\n\t\t * @returns {T[]}\n\t\t */\n\t\tgetScrollableNodes( node ) {\n\t\t\tlet scrollable = domUtils.findReactParents(node), _ = this._;\n\t\t\tscrollable     = _.rootRef &&\n\t\t\t\t_.rootRef.current &&\n\t\t\t\t_.rootRef.current.hookScrollableTargets &&\n\t\t\t\t_.rootRef.current.hookScrollableTargets(scrollable)\n\t\t\t\t|| scrollable;\n\t\t\t\n\t\t\treturn scrollable.map(\n\t\t\t\tid => (is.string(id)\n\t\t\t\t       ? this._.refs[id] && ReactDom.findDOMNode(this._.refs[id]) || this.refs[id] || document.getElementById(id)\n\t\t\t\t       : id));\n\t\t}\n\t\t\n\t\t/**\n\t\t * Hook to know if the composed element allow scrolling\n\t\t * @returns {boolean}\n\t\t */\n\t\tcomponentShouldScroll() {\n\t\t\tlet _ = this._;\n\t\t\treturn _.rootRef &&\n\t\t\t       _.rootRef.current &&\n\t\t\t       _.rootRef.current.componentShouldScroll ?\n\t\t\t       _.rootRef.current.componentShouldScroll(...arguments) : true\n\t\t}\n\t\t\n\t\t/**\n\t\t * todo rewrite or use lib\n\t\t * Init touch & scroll listeners\n\t\t * Drive scroll & drag values updates\n\t\t * @private\n\t\t */\n\t\t_registerScrollListeners() {\n\t\t\tlet _static = this.constructor,\n\t\t\t    _       = this._;\n\t\t\tif ( this._.rendered ) {\n\t\t\t\tlet rootNode   = this.getRootNode(),\n\t\t\t\t    debounceTm = 0,\n\t\t\t\t    debounceTr = 0,\n\t\t\t\t    scrollLoad = { x: 0, y: 0 },\n\t\t\t\t    lastScrollEvt;\n\t\t\t\tif ( !this._parentTweener && isBrowserSide ) {\n\t\t\t\t\t\n\t\t\t\t\tif ( !rootNode )\n\t\t\t\t\t\tconsole.warn(\"fail registering scroll listener !! \")\n\t\t\t\t\telse\n\t\t\t\t\t\tdomUtils.addWheelEvent(\n\t\t\t\t\t\t\trootNode,\n\t\t\t\t\t\t\tthis._.onScroll = ( e ) => {//@todo\n\t\t\t\t\t\t\t\tlet now       = Date.now(), prevent;\n\t\t\t\t\t\t\t\tscrollLoad.y += e.deltaY;\n\t\t\t\t\t\t\t\tscrollLoad.x += e.deltaX;\n\t\t\t\t\t\t\t\tlastScrollEvt = e.originalEvent;\n\t\t\t\t\t\t\t\tprevent       = this._doDispatch(document.elementFromPoint(lastScrollEvt.clientX, lastScrollEvt.clientY), scrollLoad.x * 5, scrollLoad.y * 5)\n\t\t\t\t\t\t\t\tscrollLoad.y  = 0;\n\t\t\t\t\t\t\t\tscrollLoad.x  = 0;\n\t\t\t\t\t\t\t\tdebounceTm    = 0;\n\t\t\t\t\t\t\t\tdebounceTr    = lastScrollEvt = undefined;\n\t\t\t\t\t\t\t\tif ( prevent ) {\n\t\t\t\t\t\t\t\t\te.originalEvent.stopPropagation();\n\t\t\t\t\t\t\t\t\te.originalEvent.preventDefault();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t\n\t\t\t\t\tlet lastStartTm,\n\t\t\t\t\t    cLock, dX,\n\t\t\t\t\t    parents, dY,\n\t\t\t\t\t    parentsState;\n\t\t\t\t\tif ( !rootNode )\n\t\t\t\t\t\tconsole.warn(\"fail registering drag listener !! \")\n\t\t\t\t\telse\n\t\t\t\t\t\tdomUtils.addEvent(\n\t\t\t\t\t\t\trootNode, this._.dragList = {\n\t\t\t\t\t\t\t\t'dragstart': ( e, touch, descr ) => {//@todo\n\t\t\t\t\t\t\t\t\tlet tweener,\n\t\t\t\t\t\t\t\t\t    x,\n\t\t\t\t\t\t\t\t\t    y, i, style;\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tparents      = this.getScrollableNodes(e.target);\n\t\t\t\t\t\t\t\t\t//console.log(\"start\")\n\t\t\t\t\t\t\t\t\tlastStartTm  = Date.now();\n\t\t\t\t\t\t\t\t\tdX           = 0;\n\t\t\t\t\t\t\t\t\tdY           = 0;\n\t\t\t\t\t\t\t\t\tparentsState = [];\n\t\t\t\t\t\t\t\t\tfor ( i = 0; i < parents.length; i++ ) {\n\t\t\t\t\t\t\t\t\t\ttweener = parents[i];\n\t\t\t\t\t\t\t\t\t\t// react comp with tweener support\n\t\t\t\t\t\t\t\t\t\tif ( tweener.__isTweener && tweener._.scrollEnabled ) {\n\t\t\t\t\t\t\t\t\t\t\tx = tweener._getAxis(\"scrollX\");\n\t\t\t\t\t\t\t\t\t\t\ty = tweener._getAxis(\"scrollY\");\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\telse if ( is.element(tweener) ) {\n\t\t\t\t\t\t\t\t\t\t\tstyle = getComputedStyle(tweener, null);\n\t\t\t\t\t\t\t\t\t\t\tif ( /(auto|scroll)/.test(\n\t\t\t\t\t\t\t\t\t\t\t\tstyle.getPropertyValue(\"overflow\")\n\t\t\t\t\t\t\t\t\t\t\t\t+ style.getPropertyValue(\"overflow-x\")\n\t\t\t\t\t\t\t\t\t\t\t\t+ style.getPropertyValue(\"overflow-y\")) ) {\n\t\t\t\t\t\t\t\t\t\t\t\tparentsState[i] = {\n\t\t\t\t\t\t\t\t\t\t\t\t\ty      : tweener.scrollTop,\n\t\t\t\t\t\t\t\t\t\t\t\t\tx      : tweener.scrollLeft,\n\t\t\t\t\t\t\t\t\t\t\t\t\tscrollX: /(auto|scroll)/.test(style.getPropertyValue(\"overflow-x\")),\n\t\t\t\t\t\t\t\t\t\t\t\t\tscrollY: /(auto|scroll)/.test(style.getPropertyValue(\"overflow-y\"))\n\t\t\t\t\t\t\t\t\t\t\t\t\t//inertia: this._activateNodeInertia(tweener)\n\t\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthis._updateNodeInertia()\n\t\t\t\t\t\t\t\t\t//e.stopPropagation();\n\t\t\t\t\t\t\t\t\t//e.preventDefault();\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t'click'    : ( e, touch, descr ) => {//@todo\n\t\t\t\t\t\t\t\t\tif ( lastStartTm && !((lastStartTm > Date.now() - opts.maxClickTm) && Math.abs(dY) < opts.maxClickOffset && Math.abs(dX) < opts.maxClickOffset) )// skip tap & click\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\t//console.log(\"prevented click\", Math.abs(dX), Math.abs(dY))\n\t\t\t\t\t\t\t\t\t\t//console.log(':o ' + (lastStartTm - Date.now()) + ' ' + dX + ' ' + dY)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//else console.log(\"click\", Math.abs(dX), Math.abs(dY))\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t'drag'     : ( e, touch, descr ) => {//@todo\n\t\t\t\t\t\t\t\t\tlet tweener,\n\t\t\t\t\t\t\t\t\t    x, deltaX, xDispatched, vX,\n\t\t\t\t\t\t\t\t\t    y, deltaY, yDispatched, vY,\n\t\t\t\t\t\t\t\t\t    cState, i;\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tdX = -(descr._lastPos.x - descr._startPos.x);\n\t\t\t\t\t\t\t\t\tdY = -(descr._lastPos.y - descr._startPos.y);\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tif ( lastStartTm && ((lastStartTm > Date.now() - opts.maxClickTm) && Math.abs(dY) < opts.maxClickOffset && Math.abs(dX) < opts.maxClickOffset) )// skip tap & click\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t//console.log(':u ' + (lastStartTm - Date.now()) + ' ' + dX + ' ' + dY)\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\txDispatched = !dX;\n\t\t\t\t\t\t\t\t\t\tyDispatched = !dY;\n\t\t\t\t\t\t\t\t\t\tif ( opts.dragDirectionLock ) {\n\t\t\t\t\t\t\t\t\t\t\tif ( cLock === \"Y\" || !cLock && Math.abs(dY * .5) > Math.abs(dX) ) {\n\t\t\t\t\t\t\t\t\t\t\t\tcLock = \"Y\";\n\t\t\t\t\t\t\t\t\t\t\t\tdX    = 0;\n\t\t\t\t\t\t\t\t\t\t\t\t//xDispatched = true;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\telse if ( cLock === \"X\" || !cLock && Math.abs(dX * .5) > Math.abs(dY) ) {\n\t\t\t\t\t\t\t\t\t\t\t\tcLock = \"X\";\n\t\t\t\t\t\t\t\t\t\t\t\tdY    = 0;\n\t\t\t\t\t\t\t\t\t\t\t\t//yDispatched = true;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//console.log(\"drag\", dX, dY, cLock, opts.dragDirectionLock);\n\t\t\t\t\t\t\t\t\t\tfor ( i = 0; i < parents.length; i++ ) {\n\t\t\t\t\t\t\t\t\t\t\ttweener = parents[i];\n\t\t\t\t\t\t\t\t\t\t\t// react comp with tweener support\n\t\t\t\t\t\t\t\t\t\t\tif ( tweener.__isTweener && tweener._.scrollEnabled ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\tx = tweener._getAxis(\"scrollX\");\n\t\t\t\t\t\t\t\t\t\t\t\ty = tweener._getAxis(\"scrollY\");\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\tif ( !parentsState[i] ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tparentsState[i] = { x: x.scrollPos, y: y.scrollPos };\n\t\t\t\t\t\t\t\t\t\t\t\t\tx.inertia.startMove();\n\t\t\t\t\t\t\t\t\t\t\t\t\ty.inertia.startMove();\n\t\t\t\t\t\t\t\t\t\t\t\t\t!x.inertiaFrame && tweener.applyInertia(x, \"scrollX\");\n\t\t\t\t\t\t\t\t\t\t\t\t\t!y.inertiaFrame && tweener.applyInertia(y, \"scrollY\");\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tdeltaX = dX && (dX / tweener._.box.x) * (x.scrollableWindow || x.scrollableArea) || 0;\n\t\t\t\t\t\t\t\t\t\t\t\tdeltaY = dY && (dY / tweener._.box.y) * (y.scrollableWindow || y.scrollableArea) || 0;\n\t\t\t\t\t\t\t\t\t\t\t\tif ( !xDispatched && !tweener.isAxisOut(\"scrollX\", parentsState[i].x + deltaX, true)\n\t\t\t\t\t\t\t\t\t\t\t\t\t&& (tweener.componentShouldScroll(\"scrollX\", deltaX)) ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tx.inertia.hold(parentsState[i].x + deltaX);\n\t\t\t\t\t\t\t\t\t\t\t\t\txDispatched = true;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t//console.log(\"scrollY\", tweener.isAxisOut(\"scrollY\", parentsState[i].y\n\t\t\t\t\t\t\t\t\t\t\t\t// + deltaY, true));\n\t\t\t\t\t\t\t\t\t\t\t\tif ( !yDispatched && !tweener.isAxisOut(\"scrollY\", parentsState[i].y + deltaY, true)\n\t\t\t\t\t\t\t\t\t\t\t\t\t&& (tweener.componentShouldScroll(\"scrollY\", deltaY)) ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\ty.inertia.hold(parentsState[i].y + deltaY);\n\t\t\t\t\t\t\t\t\t\t\t\t\tyDispatched = true;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\telse if ( is.element(tweener) ) {\n\t\t\t\t\t\t\t\t\t\t\t\tcState = parentsState[i];\n\t\t\t\t\t\t\t\t\t\t\t\tif ( cState ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif ( !yDispatched &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcState.scrollY &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t((dY < 0 && tweener.scrollTop !== 0)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(dY > 0 && tweener.scrollTop !== (tweener.scrollHeight - tweener.clientHeight)))\n\t\t\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//cState.lastY = cState.y + dY;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//tweener.scrollTo({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\t                 top: cState.y + dY,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\t                 //left    : undefined,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\t                 //behavior: 'smooth'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//                 })\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//tweener.dispatchEvent(e)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//cState.inertia.y.hold(cState.y + dY)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//tweener.scrollTop = cState.y + dY;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ( opts.dragDirectionLock && cLock === \"Y\" )\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\telse if ( !opts.dragDirectionLock ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tyDispatched = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\t} // let the node do this scroll\n\t\t\t\t\t\t\t\t\t\t\t\t\tif ( !xDispatched &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcState.scrollX &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t((dX < 0 && tweener.scrollLeft !== 0)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(dX > 0 && tweener.scrollLeft !== (tweener.scrollWidth - tweener.clientWidth)))\n\t\t\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//cState.lastX = cState.x + dX;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//tweener.scrollTo({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\t                 left: cState.x + dX,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\t                 //behavior: 'smooth'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//                 })\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//tweener.dispatchEvent(e)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//tweener.scrollTo(style.x + dX)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//cState.inertia.x.hold(cState.x + dX)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//tweener.scrollLeft = cState.x + dX;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\txDispatched = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\t} // let the node do this scroll\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif ( yDispatched && xDispatched ) {\n\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\t\te.cancelable && e.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\t//return;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//dX = 0;\n\t\t\t\t\t\t\t\t\t\t//dY = 0;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t,\n\t\t\t\t\t\t\t\t'dropped': ( e, touch, descr ) => {\n\t\t\t\t\t\t\t\t\tlet tweener,\n\t\t\t\t\t\t\t\t\t    x, deltaX, xDispatched, vX,\n\t\t\t\t\t\t\t\t\t    y, deltaY, yDispatched, vY,\n\t\t\t\t\t\t\t\t\t    cState, i;\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tcLock = undefined;\n\t\t\t\t\t\t\t\t\t//lastStartTm                     = undefined;\n\t\t\t\t\t\t\t\t\t//document.body.style.userSelect  = '';\n\t\t\t\t\t\t\t\t\t//document.body.style.touchAction = '';\n\t\t\t\t\t\t\t\t\tfor ( i = 0; i < parents.length; i++ ) {\n\t\t\t\t\t\t\t\t\t\ttweener = parents[i];\n\t\t\t\t\t\t\t\t\t\t// react comp with tweener support\n\t\t\t\t\t\t\t\t\t\tif ( tweener.__isTweener && tweener._.scrollEnabled && parentsState[i] ) {\n\t\t\t\t\t\t\t\t\t\t\ttweener._getAxis(\"scrollY\").inertia.release();\n\t\t\t\t\t\t\t\t\t\t\ttweener._getAxis(\"scrollX\").inertia.release();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//else if ( is.element(tweener) ) {\n\t\t\t\t\t\t\t\t\t\t//\tcState = parentsState[i];\n\t\t\t\t\t\t\t\t\t\t//\tif ( cState ) {\n\t\t\t\t\t\t\t\t\t\t//\t\tcState.inertia.x.release();\n\t\t\t\t\t\t\t\t\t\t//\t\tcState.inertia.y.release();\n\t\t\t\t\t\t\t\t\t\t//\t}\n\t\t\t\t\t\t\t\t\t\t//}\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ( lastStartTm && !((lastStartTm > Date.now() - opts.maxClickTm) && Math.abs(dY)\n\t\t\t\t\t\t\t\t\t\t< opts.maxClickOffset && Math.abs(dX) < opts.maxClickOffset) )// skip tap\n\t\t\t\t\t\t\t\t\t                                                                  // &\n\t\t\t\t\t\t\t\t\t                                                                  // click\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\te.cancelable && e.preventDefault();\n\t\t\t\t\t\t\t\t\t\t//console.log(\"prevented\", Math.abs(dX), Math.abs(dY))\n\t\t\t\t\t\t\t\t\t\t//return;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//else {\n\t\t\t\t\t\t\t\t\t//console.log(\"not prevented\", Math.abs(dX), Math.abs(dY))\n\t\t\t\t\t\t\t\t\t//}\n\t\t\t\t\t\t\t\t\t//lastStartTm = 0;\n\t\t\t\t\t\t\t\t\tparents = parentsState = null;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\topts.enableMouseDrag\n\t\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\tthis._.doRegister = !!rootNode;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis._.doRegister = true;\n\t\t\t}\n\t\t}\n\t\t\n\t\t// ------------------------------------------------------------\n\t\t// --------------- Inertia & scroll modifiers -----------------\n\t\t// ------------------------------------------------------------\n\t\t\n\t\t/**\n\t\t * Retrieve updates from an axis inertia & apply them\n\t\t * @param dim\n\t\t * @param axe\n\t\t */\n\t\tapplyInertia( dim, axe ) {\n\t\t\tlet x = dim.inertia.update(), _ = this._;\n\t\t\t\n\t\t\tthis._.axes[axe].tweenAxis.forEach(\n\t\t\t\tsl => {\n\t\t\t\t\tthis._.axes[axe].targetPos = this._.axes[axe].scrollPos = x;\n\t\t\t\t\tsl.goTo(x, this._.tweenRefMaps)\n\t\t\t\t}\n\t\t\t);\n\t\t\t//console.log(\"scroll at \" + x, axe, dim.inertia.active || dim.inertia.holding);\n\t\t\t//this.scrollTo(x, 0, axe);\n\t\t\t_.rootRef &&\n\t\t\t_.rootRef.current &&\n\t\t\t_.rootRef.current.componentDidScroll &&\n\t\t\t_.rootRef.current.componentDidScroll(x, axe);\n\t\t\tthis._updateTweenRefs()\n\t\t\tif ( dim.inertia.active || dim.inertia.holding ) {\n\t\t\t\tdim.inertiaFrame = setTimeout(this.applyInertia.bind(this, dim, axe));\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdim.inertiaFrame = null;\n\t\t\t\t//console.log(\"complete\");\n\t\t\t}\n\t\t}\n\t\t\n\t\t/**\n\t\t * Return true if at least 1 of this tweener axis have it's inertia active\n\t\t * @returns {boolean}\n\t\t */\n\t\tisInertiaActive() {//todo\n\t\t\tlet _ = this._, active = false;\n\t\t\t_.axes &&\n\t\t\tObject.keys(_.axes)\n\t\t\t      .forEach(\n\t\t\t\t      axe => (active = active || _.axes[axe] && _.axes[axe].inertia.active)\n\t\t\t      );\n\t\t\treturn active;\n\t\t}\n\t\t\n\t\tdispatchScroll( delta, axe = \"scrollY\" ) {\n\t\t\tlet prevent,\n\t\t\t    dim    = this._.axes[axe],\n\t\t\t    oldPos = dim && dim.scrollPos,\n\t\t\t    newPos = oldPos + delta;\n\t\t\t\n\t\t\tif ( dim && oldPos !== newPos ) {\n\t\t\t\t\n\t\t\t\tdim.inertia.dispatch(delta, 100);\n\t\t\t\t!dim.inertiaFrame && this.applyInertia(dim, axe);\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\treturn prevent;\n\t\t}\n\t\t\n\t\tisAxisOut( axis, v, abs ) {\n\t\t\tlet _   = this._,\n\t\t\t    dim = _.axes && _.axes[axis],\n\t\t\t    pos = abs ? v : dim && (dim.scrollPos + v);\n\t\t\t\n\t\t\tpos = pos && Math.round(pos);\n\t\t\t\n\t\t\treturn !dim\n\t\t\t\t|| (\n\t\t\t\t\tdim.scrollableBounds\n\t\t\t\t\t?\n\t\t\t\t\t(pos <= dim.scrollableBounds.min || pos >= dim.scrollableBounds.max)\n\t\t\t\t\t:\n\t\t\t\t\t(pos <= 0 || pos >= dim.scrollableArea)\n\t\t\t\t);\n\t\t}\n\t\t\n\t\t_doDispatch( target, dx, dy, holding ) {\n\t\t\tlet style,\n\t\t\t    Comps,\n\t\t\t    headTarget = target,\n\t\t\t    nodeInertia,\n\t\t\t    i;\n\t\t\t\n\t\t\t// check if there scrollable stuff in dom targets\n\t\t\t// get all the parents components & dom node of an dom element ( from fibers )\n\t\t\t\n\t\t\tComps = this.getScrollableNodes(headTarget);\n\t\t\t//console.log(\"dispatching \", dx, dy, Comps);\n\t\t\tfor ( i = 0; i < Comps.length; i++ ) {\n\t\t\t\t// react comp with tweener support\n\t\t\t\tif ( Comps[i].__isTweener ) {\n\t\t\t\t\t//debugger\n\t\t\t\t\t//console.log(Comps[i], dx, dy, Comps[i].isAxisOut(\"scrollX\", dx), Comps[i].isAxisOut(\"scrollY\",\n\t\t\t\t\t// dy));\n\t\t\t\t\tif ( !Comps[i].isAxisOut(\"scrollX\", dx) && (!Comps[i].componentShouldScroll || Comps[i].componentShouldScroll(\"scrollX\", dx)) ) {\n\t\t\t\t\t\tComps[i].dispatchScroll(dx, \"scrollX\", holding);\n\t\t\t\t\t\tdx = 0;\n\t\t\t\t\t}\n\t\t\t\t\tif ( !Comps[i].isAxisOut(\"scrollY\", dy) && (!Comps[i].componentShouldScroll || Comps[i].componentShouldScroll(\"scrollY\", dy)) ) {\n\t\t\t\t\t\tComps[i].dispatchScroll(dy, \"scrollY\", holding);\n\t\t\t\t\t\tdy = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// dom element\n\t\t\t\telse if ( is.element(Comps[i]) ) {\n\t\t\t\t\tstyle = getComputedStyle(Comps[i], null)\n\t\t\t\t\tif ( /(auto|scroll)/.test(\n\t\t\t\t\t\tstyle.getPropertyValue(\"overflow\")\n\t\t\t\t\t\t+ style.getPropertyValue(\"overflow-x\")\n\t\t\t\t\t\t+ style.getPropertyValue(\"overflow-y\")\n\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t(dy < 0 && Comps[i].scrollTop !== 0)\n\t\t\t\t\t\t\t||\n\t\t\t\t\t\t\t(dy > 0 && Comps[i].scrollTop !== (Comps[i].scrollHeight - Comps[i].clientHeight))\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t//nodeInertia.y.dispatch(dy * 10)\n\t\t\t\t\t\t\t//dy = 0;\n\t\t\t\t\t\t} // let the node do this scroll\n\t\t\t\t\t\t//if ( nodeInertia.x.isOutbound(dx) ) {\n\t\t\t\t\t\t//\tnodeInertia.x.dispatch(dx * 10)\n\t\t\t\t\t\t//\tdx = 0;\n\t\t\t\t\t\t//} // let the node do this scroll\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t//headTarget = headTarget.parentNode;\n\t\t\t\t\t//if ( headTarget === document || headTarget === target )\n\t\t\t\t\t//\tbreak;\n\t\t\t\t}\n\t\t\t\tif ( !dx && !dy )\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis._updateNodeInertia();\n\t\t\tif ( !dx && !dy )\n\t\t\t\treturn true;\n\t\t}\n\t\t\n\t\t_activateNodeInertia( node ) {\n\t\t\tlet _ = this._,\n\t\t\t    i = _.activeInertia.findIndex(item => (item.target === node));\n\t\t\tif ( i === -1 ) {\n\t\t\t\t_.activeInertia.push(\n\t\t\t\t\t{\n\t\t\t\t\t\tinertia: {\n\t\t\t\t\t\t\tx: new Inertia({ max: node.scrollWidth - node.offsetLeft, value: node.scrollLeft }),\n\t\t\t\t\t\t\ty: new Inertia({ max: node.scrollHeight - node.offsetHeight, value: node.scrollTop })\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttarget : node\n\t\t\t\t\t});\n\t\t\t\ti = _.activeInertia.length - 1;\n\t\t\t}\n\t\t\treturn _.activeInertia[i].inertia;\n\t\t\t\n\t\t}\n\t\t\n\t\t_updateNodeInertia = () => {\n\t\t\tlet _ = this._, current, ln = _.activeInertia.length;\n\t\t\t\n\t\t\tif ( this._inertiaRaf )\n\t\t\t\tcancelAnimationFrame(this._inertiaRaf);\n\t\t\t\n\t\t\tfor ( let i = 0; ln > i; i++ ) {\n\t\t\t\tcurrent = _.activeInertia[i];\n\t\t\t\tif ( current.inertia.x.active || current.inertia.x.holding ) {\n\t\t\t\t\tcurrent.target.scrollLeft = ~~current.inertia.x.update()\n\t\t\t\t}\n\t\t\t\tif ( current.inertia.y.active || current.inertia.y.holding ) {\n\t\t\t\t\tcurrent.target.scrollTop = ~~current.inertia.y.update()\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif ( !current.inertia.x.active && !current.inertia.y.active && !current.inertia.x.holding && !current.inertia.y.holding ) {\n\t\t\t\t\t_.activeInertia.slice(i, 1);\n\t\t\t\t\ti--;\n\t\t\t\t\tln--;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( ln !== 0 )\n\t\t\t\tthis._inertiaRaf = requestAnimationFrame(this._updateNodeInertia)\n\t\t\telse this._inertiaRaf = null;\n\t\t}\n\t\t\n\t\t\n\t\t// ------------------------------------------------------------\n\t\t// --------------- Initialization & drawers -------------------\n\t\t// ------------------------------------------------------------\n\t\t\n\t\tmakeTweenable() {\n\t\t\tlet _ = this._;\n\t\t\t\n\t\t\tif ( !_.tweenEnabled ) {\n\t\t\t\t_.tweenRefCSS         = {};\n\t\t\t\t_.tweenRefs           = {};\n\t\t\t\t_.tweenRefMaps        = {};\n\t\t\t\t_.iMapOrigin          = {};\n\t\t\t\t_.tweenRefInitialData = {};\n\t\t\t\t_.tweenEnabled        = true;\n\t\t\t\t_.tweenRefOrigin      = {};\n\t\t\t\t_.tweenRefOriginCss   = {};\n\t\t\t\t_.axes                = {};\n\t\t\t\t_.muxDataByTarget     = _.muxDataByTarget || {};\n\t\t\t\t_.tweenRefDemuxed     = _.tweenRefDemuxed || {};\n\t\t\t\t_.tweenRefTargets     = _.tweenRefTargets || [];\n\t\t\t\t_.runningAnims        = _.runningAnims || [];\n\t\t\t\t\n\t\t\t\tisBrowserSide && window.addEventListener(\n\t\t\t\t\t\"resize\",\n\t\t\t\t\tthis._.onResize = ( e ) => {//@todo\n\t\t\t\t\t\tthis._updateBox();\n\t\t\t\t\t\tthis._updateTweenRefs();\n\t\t\t\t\t\t_.rootRef &&\n\t\t\t\t\t\t_.rootRef.current &&\n\t\t\t\t\t\t_.rootRef.current.windowDidResize &&\n\t\t\t\t\t\t_.rootRef.current.windowDidResize(e)\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t\n\t\tsetRootRef( id ) {\n\t\t\tthis._.rootRef = id;\n\t\t}\n\t\t\n\t\t\n\t\tmakeScrollable() {\n\t\t\tif ( !this._.scrollEnabled ) {\n\t\t\t\tthis._.scrollEnabled = true;\n\t\t\t\tthis._.scrollHook    = [];\n\t\t\t\tthis._.activeInertia = [];\n\t\t\t\tthis._registerScrollListeners();\n\t\t\t}\n\t\t}\n\t\t\n\t\t_updateBox() {\n\t\t\tlet node = this.getRootNode();\n\t\t\tif ( node ) {\n\t\t\t\tthis._.box.inited = true;\n\t\t\t\tthis._.box.x      = node.offsetWidth;\n\t\t\t\tthis._.box.y      = node.offsetHeight;\n\t\t\t}\n\t\t}\n\t\t\n\t\t_rafLoop() {\n\t\t\tthis._updateTweenRefs();\n\t\t\tif ( this._.runningAnims.length ) {\n\t\t\t\trequestAnimationFrame(this._._rafLoop);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t//this._.live && console.log(\"RAF off\", this.constructor.displayName);\n\t\t\t\tthis._.live = false;\n\t\t\t}\n\t\t}\n\t\t\n\t\t_updateTweenRefs() {\n\t\t\tif ( this._.tweenEnabled ) {\n\t\t\t\tfor ( let i = 0, target, node, style; i < this._.tweenRefTargets.length; i++ ) {\n\t\t\t\t\ttarget = this._.tweenRefTargets[i];\n\t\t\t\t\tstyle  = this._updateTweenRef(target);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t_swap = {};\n\t\t\n\t\t_updateTweenRef( target ) {\n\t\t\tlet node, swap = this._swap, changes;\n\t\t\tthis._.tweenRefCSS[target] &&\n\t\t\tmuxToCss(this._.tweenRefMaps[target], swap, this._.muxByTarget[target], this._.muxDataByTarget[target], this._.box);\n\t\t\tnode = this.getTweenableRef(target);\n\t\t\t//console.log('no changes', target, swap)\n\t\t\tif ( node )\n\t\t\t\tfor ( let o in swap )\n\t\t\t\t\tif ( this._.tweenRefCSS[target].hasOwnProperty(o) ) {\n\t\t\t\t\t\tif ( swap[o] !== this._.tweenRefCSS[target][o] ) {\n\t\t\t\t\t\t\tnode.style[o] = this._.tweenRefCSS[target][o] = swap[o];\n\t\t\t\t\t\t\tchanges       = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdelete swap[o];\n\t\t\t\t\t}\n\t\t\t//if (!changes)\n\t\t\treturn this._.tweenRefCSS[target];\n\t\t}\n\t\t\n\t\t\n\t\t// ------------------------------------------------------------\n\t\t// --------------- React Hooks --------------------------------\n\t\t// ------------------------------------------------------------\n\t\t\n\t\t\n\t\tcomponentWillUnmount() {\n\t\t\tlet node = this.getRootNode();\n\t\t\tif ( this._.tweenEnabled ) {\n\t\t\t\tthis._.tweenEnabled = false;\n\t\t\t\twindow.removeEventListener(\"resize\", this._.onResize);\n\t\t\t}\n\t\t\t\n\t\t\tif ( this._.scrollEnabled ) {\n\t\t\t\tthis._.scrollEnabled = false;\n\t\t\t\t\n\t\t\t\t//this._.axes          = undefined;\n\t\t\t\tnode && this._.onScroll && !this._parentTweener && domUtils.rmWheelEvent(\n\t\t\t\t\tnode,\n\t\t\t\t\tthis._.onScroll);\n\t\t\t\tnode && this._.dragList && domUtils.removeEvent(node\n\t\t\t\t\t, this._.dragList)\n\t\t\t}\n\t\t\t\n\t\t\tsuper.componentWillUnmount && super.componentWillUnmount(...arguments);\n\t\t}\n\t\t\n\t\tcomponentDidMount() {\n\t\t\tlet _static = this.constructor;\n\t\t\t\n\t\t\tthis._.rendered = true;\n\t\t\tif ( this._.tweenEnabled ) {\n\t\t\t\t// debugger;\n\t\t\t\tthis._updateBox();\n\t\t\t\tthis._updateTweenRefs();\n\t\t\t}\n\t\t\tif ( _static.scrollableAnim ) {\n\t\t\t\tif ( is.array(_static.scrollableAnim) )\n\t\t\t\t\tthis.addScrollableAnim(_static.scrollableAnim);\n\t\t\t\telse\n\t\t\t\t\tObject.keys(_static.scrollableAnim)\n\t\t\t\t\t      .forEach(\n\t\t\t\t\t\t      axe => this.addScrollableAnim(_static.scrollableAnim[axe], axe)\n\t\t\t\t\t      )\n\t\t\t}\n\t\t\tif ( this._.doRegister || this.__isFirst ) {\n\t\t\t\t\n\t\t\t\tthis._registerScrollListeners();\n\t\t\t\tthis._.doRegister = false;\n\t\t\t}\n\t\t\tsuper.componentDidMount && super.componentDidMount(...arguments);\n\t\t}\n\t\t\n\t\tcomponentDidUpdate( prevProps, prevState ) {\n\t\t\t\n\t\t\tif ( this._.tweenEnabled ) {\n\t\t\t\tthis._updateBox();\n\t\t\t\tthis._updateTweenRefs();\n\t\t\t}\n\t\t\tsuper.componentDidUpdate && super.componentDidUpdate(...arguments);\n\t\t}\n\t\t\n\t\trender() {\n\t\t\treturn <TweenerContext.Consumer>\n\t\t\t\t{\n\t\t\t\t\tparentTweener => {\n\t\t\t\t\t\tthis._parentTweener = parentTweener;\n\t\t\t\t\t\treturn <TweenerContext.Provider value={this}>\n\t\t\t\t\t\t\t<BaseComponent {...this.props} ref={this._.rootRef} tweener={this}/>\n\t\t\t\t\t\t</TweenerContext.Provider>;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t</TweenerContext.Consumer>;\n\t\t}\n\t}\n\t\n\tlet withRef         = React.forwardRef(( props, ref ) => {\n\t\treturn <TweenableComp {...props} forwardedRef={ref}/>;\n\t});\n\twithRef.displayName = TweenableComp.displayName;\n\treturn withRef;\n}\n","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from \"react\";\nimport is    from \"is\";\n\nimport TweenerContext from \"../comps/TweenerContext\";\n\n\nconst SimpleObjectProto = ({}).constructor;\n\n\n/**\n * asTweener decorator\n * @param argz\n * @returns {*}\n */\nexport default function withTweener( ...argz ) {\n\t\n\tlet BaseComponent = (!argz[0] || argz[0].prototype instanceof React.Component || argz[0] === React.Component) && argz.shift(),\n\t    opts          = (!argz[0] || argz[0] instanceof SimpleObjectProto) && argz.shift() || {};\n\t\n\tif ( !(BaseComponent && (BaseComponent.prototype instanceof React.Component || BaseComponent === React.Component)) ) {\n\t\treturn function ( BaseComponent ) {\n\t\t\treturn withTweener(BaseComponent, opts)\n\t\t}\n\t}\n\t\n\tclass TweenerToProps extends React.Component {\n\t\tstatic displayName = (BaseComponent.displayName || BaseComponent.name);\n\t\t\n\t\trender() {\n\t\t\treturn <TweenerContext.Consumer>\n\t\t\t\t{\n\t\t\t\t\ttweener => {\n\t\t\t\t\t\treturn <BaseComponent { ...this.props } tweener={ tweener } ref={ this.props.forwardedRef }/>;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t</TweenerContext.Consumer>;\n\t\t}\n\t}\n\t\n\t\n\tlet withRef         = React.forwardRef(( props, ref ) => {\n\t\treturn <TweenerToProps { ...props } forwardedRef={ ref }/>;\n\t});\n\twithRef.displayName = TweenerToProps.displayName;\n\treturn withRef;\n}\n","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport is from \"is\";\n\nexport const re_cssValueWithUnit = new RegExp(\n\t\"([+-]?(?:[0-9]*[.])?[0-9]+)\\\\s*(\" +\n\t['box', 'bz', 'bh', 'bw', 'em', 'ex', '%', 'px', 'cm', 'mm', 'in', 'pt', 'pc', 'ch', 'rem', 'vh', 'vw', 'vmin', 'vmax'].join('|')\n\t+ \")\"\n);\n\n/**\n * add any css val with it unit ( todo: optims&use objects for multi unit\n * @param val1\n * @param val2\n * @returns {Array}\n */\nexport function cssAdd( val1, val2, ...argz ) {\n\tif ( !is.array(val1) )\n\t\tval1 = [val1];\n\tif ( !is.array(val2) )\n\t\tval2 = [val2];\n\t\n\tlet units1             = val1.map(v => (v && v.match && v.match(re_cssValueWithUnit) || [, v || 0, 'px'])),\n\t    units2             = val2.map(v => (v && v.match && v.match(re_cssValueWithUnit) || [, v || 0, 'px'])),\n\t    remap = {}, result = [], i;\n\t\n\ti = 0;\n\twhile ( i < units1.length ) {\n\t\tremap[units1[i][2]] = remap[units1[i][2]] || 0;\n\t\tremap[units1[i][2]] += parseFloat(units1[i][1]);\n\t\ti++;\n\t}\n\ti = 0;\n\twhile ( i < units2.length ) {\n\t\tremap[units2[i][2]] = remap[units2[i][2]] || 0;\n\t\tremap[units2[i][2]] += parseFloat(units2[i][1]);\n\t\ti++;\n\t}\n\tObject.keys(remap)\n\t      .forEach(\n\t\t      unit => (result.push(remap[unit] + unit))\n\t      );\n\treturn argz.length ? cssAdd(result, ...argz) : result;\n}\n\n/**\n * Multiply any css val with it unit ( todo: optims & use objects for multi unit\n * @param val1\n * @param val2\n * @returns {Array}\n */\nexport function cssMult( val1, val ) {\n\tif ( !is.array(val1) )\n\t\tval1 = [val1];\n\t\n\tlet units1             = val1.map(v => (v && v.match && v.match(re_cssValueWithUnit) || [, v || 0, 'px'])),\n\t    remap = {}, result = [], i;\n\t\n\ti = 0;\n\twhile ( i < units1.length ) {\n\t\tremap[units1[i][2]] = remap[units1[i][2]] || 1;\n\t\tremap[units1[i][2]] = parseFloat(units1[i][1]) * val;\n\t\ti++;\n\t}\n\tObject.keys(remap)\n\t      .forEach(\n\t\t      unit => (result.push(remap[unit] + unit))\n\t      );\n\treturn result;\n}\n\nexport function offset( items, start = 0 ) {\n\titems = is.array(items) ? items : items && [items] || items;\n\treturn items.map(\n\t\titem => (\n\t\t\t{\n\t\t\t\t...item,\n\t\t\t\tfrom: item.from + start\n\t\t\t}\n\t\t)\n\t)\n}\n\nexport function scale( items, duration = 0, withOffset ) {\n\titems = is.array(items) ? items : items && [items] || items;\n\t\n\t// get items current duration\n\tlet iDuration = 0;\n\titems.forEach(\n\t\titem => {\n\t\t\tiDuration = Math.max(iDuration, item.from + item.duration)\n\t\t}\n\t)\n\t\n\titems = items.map(\n\t\titem => (\n\t\t\t{\n\t\t\t\t...item,\n\t\t\t\tfrom    : (item.from / iDuration) * duration,\n\t\t\t\tduration: (item.duration / iDuration) * duration\n\t\t\t}\n\t\t)\n\t)\n\treturn withOffset ? offset(items, withOffset) : items\n}\n\nfunction inverseValues( v ) {\n\tif ( is.number(v) )\n\t\treturn -v;\n\tif ( is.object(v) )\n\t\treturn Object.keys(v).reduce(( h, key ) => (h[key] = inverseValues(v[key]), h), {});\n\tif ( is.array(v) )\n\t\treturn v.map(( item ) => (inverseValues(item)));\n\t\n\tlet values = v.split(/(\\-?\\d+(?:\\.\\d+)?|\\-?\\.\\d+)/ig);\n\t\n\treturn values.map(\n\t\t( val, i ) => (i % 2 ? -parseFloat(val) : val)\n\t).join(\"\");\n}\n\nexport function reverse( items ) {\n\titems         = is.array(items) ? items : items && [items] || items;\n\t// get items current duration\n\tlet iDuration = 0;\n\titems.forEach(\n\t\titem => {\n\t\t\tiDuration = Math.max(iDuration, item.from + item.duration)\n\t\t}\n\t)\n\t\n\treturn items.map(\n\t\titem => {\n\t\t\titem =\n\t\t\t\t{\n\t\t\t\t\t...item,\n\t\t\t\t\tfrom: iDuration - (item.from + item.duration),\n\t\t\t\t\t...(item.apply ? { apply: inverseValues(item.apply) } : undefined)\n\t\t\t\t};\n\t\t\treturn item;\n\t\t}\n\t)\n}\n\nexport function addCss( target, ...sources ) {\n\tlet source = sources.shift();\n\tfor ( const key in source ) {\n\t\tif ( !source.hasOwnProperty(key) )\n\t\t\tcontinue;\n\t\tif ( is.object(source[key]) ) {\n\t\t\tif ( !target[key] ) {\n\t\t\t\ttarget[key] = {};\n\t\t\t}\n\t\t\t\n\t\t\taddCss(target[key], source[key]);\n\t\t}\n\t\telse if ( is.array(source[key]) ) {\n\t\t\tif ( !target[key] ) {\n\t\t\t\ttarget[key] = [];\n\t\t\t}\n\t\t\taddCss(target[key], source[key]);\n\t\t}\n\t\telse {\n\t\t\ttarget[key] = addAllType(target[key], source[key])\n\t\t}\n\t}\n\t\n\treturn sources.length && addCss(target, ...sources) || target;\n}\n\nfunction addAllType( v1, v2 ) {\n\tif ( !v1 )\n\t\treturn v2;\n\tif ( !v2 )\n\t\treturn v1;\n\tlet values1 = ('' + v1).split(/(\\-?\\d+(?:\\.\\d+)?|\\-?\\.\\d+)/ig),\n\t    values2 = ('' + v2).split(/(\\-?\\d+(?:\\.\\d+)?|\\-?\\.\\d+)/ig),\n\t    r       = values1.map(\n\t\t    ( val, i ) => (i % 2 ? parseFloat(val) + parseFloat(values2[i] || 0) : val)\n\t    ).filter(i => (i !== ''));\n\t\n\treturn r.length === 1 ? parseInt(r[0]) : r.join(\"\")\n}\n\nexport function extractCss( items, inverse ) {\n\tlet css = {};\n\titems   = is.array(items) ? items : items && [items] || items;\n\titems.forEach(\n\t\titem => {\n\t\t\taddCss(css, item.apply)\n\t\t}\n\t);\n\tif ( inverse )\n\t\tcss = inverseValues(css);\n\t\n\t\n\t//if ( inverse && css.hasOwnProperty('opacity') )\n\t//\tcss.opacity -= 1;\n\treturn css;\n}\n\nexport function target( items, target ) {\n\titems = is.array(items) ? items : items && [items] || items;\n\treturn items.map(\n\t\titem => (\n\t\t\t{\n\t\t\t\t...item,\n\t\t\t\ttarget\n\t\t\t}\n\t\t)\n\t)\n}\n\nexport function shiftTransforms( items, shift = 1 ) {\n\titems = is.array(items) ? items : items && [items] || items;\n\treturn items.map(\n\t\titem => {\n\t\t\tlet t = item.apply && item.apply.transform;\n\t\t\tif ( t ) {\n\t\t\t\tt = is.array(t) ? t : [t];\n\t\t\t\tfor ( let i = 0; i < shift; i++ )\n\t\t\t\t\tt.unshift({});\n\t\t\t\t\n\t\t\t\titem = { ...item, apply: { ...item.apply, transform: t } };\n\t\t\t}\n\t\t\treturn item;\n\t\t}\n\t)\n}","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport {Component}     from 'react';\nimport TweenAxis       from './comps/TweenAxis';\nimport TweenerContext  from './comps/TweenerContext';\nimport TweenRef        from './comps/TweenRef';\nimport asTweener       from './spells/asTweener';\nimport withTweener     from './spells/withTweener';\nimport * as tweenTools from './utils/tweenTools.js';\n\n@asTweener\nclass Tweenable extends Component {\n\trender() {\n\t\treturn this.props.children;\n\t}\n}\n\n\nexport {asTweener, withTweener, tweenTools, Tweenable, TweenRef, TweenerContext, TweenAxis};\nexport default Tweenable;"],"sourceRoot":""}